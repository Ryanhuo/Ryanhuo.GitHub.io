<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="Shortcut Icon" href="asset/css/huo.ico" type="image/x-icon">
    <title>
    
  python - Ryanhuo
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="Ryanhuo" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
 
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site:ryanhuo.github.io ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }

</script>

  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="_self" href="index.html">主页</a></li>
        
        <li id=""><a target="_self" href="archives.html">目录</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
 <!--<form target="_blank" onsubmit="return before_search();" action="https://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>-->
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; Ryanhuo</span>
  </a>
</nav>


<section id="header">
  <div class="inner">
    <span class="icon major fa-cloud"></span>
    <img src="asset/img/火.png" alt="logo">
    <h1>Hi, I'm <strong>Ryan</strong><br /></h1>
    <p><a href="ryanhuo.github.io">我的主页</a></p>
    <p>我是黑暗里中大雪纷飞的人哪，<br />
    你再不来，我要下雪来</p>
    <ul class="actions">
      <li><a href="https://ryanhuo.github.io/简历.html" class="button scrolly">About Me</a></li>
    </ul>
  </div>
</section>


<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
        
        <li><a target="_self" href="index.html">主页</a></li>
        
        <li><a target="_self" href="archives.html">目录</a></li>
        

    <li><label>Categories</label></li>

        
            <li><a href="%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90.html">数据分析</a></li>
        
            <li><a href="ML&DL.html">ML&DL</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
	$(function(){
		$('#menu_item_index').addClass('is_active');
	});
</script>
<div class="row">
	<div class="large-8 medium-8 columns">
		<div class="markdown-body home-categories">
		
			<div class="article">
                <a class="clearlink" href="15822327222660.html">
                
                  <h1>1. python简介及安装</h1>
                 <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h2 id="toc_0">python简介</h2>

<p><strong>编程语言</strong>是用来定义 计算机程序 的形式语言。我们通过编程语言来编写程序代码，再通过语言处理程序执行向计算机发送指令，让计算机完成对应的工作。</p>

<p>Python也是编程语言的一种,并且是高级的编程语言。Python语言可能是第一种即简单又功能强大的编程语言。</p>

<h2 id="toc_1">python的优点</h2>

<ol>
<li><p><strong>简单</strong>：Python是一种代表简单主义思想的语言。阅读一个良好的Python程序就感觉像是在读英语一样，尽管这个英语的要求非常严格！Python的这种伪代码本质是它最大的优点之一。它使你能够专注于解决问题而不是去搞明白语言本身。</p></li>
<li><p><strong>易学</strong>：就如同你即将看到的一样，Python极其容易上手。前面已经提到了，Python有极其简单的语法。</p></li>
<li><p><strong>免费、开源</strong>：Python是FLOSS（自由/开放源码软件）之一。简单地说，你可以自由地发布这个软件的拷贝、阅读它的源代码、对它做改动、把它的一部分用于新的自由软件中。FLOSS是基于一个团体分享知识的概念。这是为什什么Python如此优秀的原因之一—它是由一群希望看到一个更更加优秀的Python的人创造并经常改进着的。</p></li>
<li><p><strong>层语言</strong>：当你用Python语言编写程序的时候，你无需考虑诸如如何管理理你的程序使用的内存一类的底层细节。</p></li>
<li><p><strong>可移植性</strong>：由于它的开源本质，Python已经被移植在许多平台上（经过改动使它能够工作在不不同平台上）。如果你小心地避免使用依赖于系统的特性，那么你的所有Python程无需修改就可以在下述任何平台上面运行。这些平台包括Linux、Windows、FreeBSD、Macintosh、Solaris、OS/2、Amiga、AROS、AS/400、BeOS、OS/390、z/OS、Palm OS、QNX、VMS、Psion、Acom RISC OS、VxWorks、PlayStation、Sharp Zaurus、Windows CE甚至还有PocketPC、Symbian以及Google基于linux开发的Android平台！</p></li>
<li><p><strong>解释性</strong>：这一点需要一些解释。一个用编译性语言比如C或C++写的程序可以从源文件（即C或C++语言）转换到一个你的计算机使用的语言（二进制代码，即0和1）。这个过程通过编译器和不同的标记、选项完成。当你运行你的程序的时候，连接/转载器软件把你的程序从硬盘复制到内存中并且运行。而Python语言写的程序不不需要编译成二进制代码。你可以直接从源代码运行程序。在计算机内部，Python解释器把源代码转换成称为字节码的中间形式，然后再把它翻译成计算机使用的机器器语言并运行。事实上，由于你不再需要担心如何编译程序，如何确保连接转载正确的库等等，所有这一切使得使用Python更更加简单。由于你只需要把你的Python程序拷贝到另外一台计算机上，它就可以工作了，这也使得你的Python程序更加易于移植。</p></li>
<li><p><strong>面向对象</strong>：Python既支持面向过程的编程也支持面向对象的编程。在“面向过程”的语言中，程序是由过程或仅仅是可重用代码的函数构建起来的。在“面向对象”的语言中，程序是由数据和功能组合而成的对象构建起来的。与其他主要的语言如C++和Java相比，Python以一种非常强大又简单的方式实现面向对象编程。</p></li>
<li><p><strong>可扩展性</strong>：如果你需要你的一段关键代码运行得更快或者希望某些算法不不公开，你可以把你的部分程序用C或C++编写，然后在你的Python程序中使用它们。</p></li>
<li><p><strong>丰富的库</strong>：Python标准库确实很庞大。它可以帮助你处理理各种工作，包括正则表达式、文档生成、单元测试、线程、数据库、网页浏览器、CGI、FTP、电子邮件、XML、XML-RPC、HTML、WAV文件、密码系统、GUI（图形用户界面）、Tk和其他与系统有关的操作。记住，只要安装了Python，所有这些功能都是可用的。这被称作Python的“功能齐全”理念。除了标准库以外，还有许多其他高质量的库，如wxPython、Twisted和Python图像库等等。</p></li>
<li><p><strong>规范的代码</strong>：Python采用强制缩进的方式使得代码具有极佳的可读性。</p></li>
</ol>

<h2 id="toc_2">pycharm安装激活</h2>

<p>PyCharm是一 Python IDE，带有一 整套可以帮助用户在使用Python语言开发时提高其效率的工具，比如调试、语法高亮、Project管理、 代码跳转、智能提示、自动完成、单元测试、版本控制。此外，该IDE提供了-些高级功能，以用于支持Django框架下的专业Web开发。</p>

<h3 id="toc_3">下载安装</h3>

<p><a href="https://www.jetbrains.com/pycharm/">官方下载地址</a></p>

<h3 id="toc_4">激活</h3>

<p>激活方式均选择License server。</p>

<p><img src="media/15822327222660/1.0.jpg" alt=""/></p>

<p>第一服务器License server address: <a href="http://39.105.114.41:1027">http://39.105.114.41:1027</a></p>

<p>第二服务器License server address: <a href="http://36.110.99.11:3456">http://36.110.99.11:3456</a></p>

<p>以上两台服务器任选一台。</p>

<h2 id="toc_5">使用Anconda方式安装Python环境</h2>

<p>Anaconda指的是一个开源的Python发行版本，其包含了conda、Python等180多个科学包及其依赖项。 因为包含了大量的科学包，Anaconda 的下载文件比较大（约 600 MB），如果只需要某些包，或者需要节省带宽或存储空间，也可以使用Miniconda这个较小的发行版（仅包含conda和 Python）。</p>

<h3 id="toc_6">下载</h3>

<p><a href="https://www.continuum.io/downloads">Python3.6版本</a></p>

<h3 id="toc_7">安装</h3>

<p>根据安装步骤下一步安装完成即可</p>

<p>anaconda自带python3.6环境不需要自己再次去官网下载python了。</p>

<h4 id="toc_8">注意： Windows如果忘记勾选添加环境变量选项需要可以进行一下操作</h4>

<p><img src="media/15822327222660/1.1.png" alt=""/><br/>
<img src="media/15822327222660/1.2.png" alt=""/><br/>
<img src="media/15822327222660/1.3.png" alt=""/></p>

<h4 id="toc_9">注意： Mac 添加环境变量</h4>

<pre><code class="language-text">export PATH=&quot;~/anaconda3/bin:$PATH&quot;
</code></pre>

<p>或者</p>

<pre><code class="language-text">vim~/.bash_profile
</code></pre>

<p>点进入编辑模式，进行编辑然后添加</p>

<pre><code class="language-text">export PATH=&quot;~/anaconda3/bin:$PATH&quot;
</code></pre>

<p>编辑完成后，点esc 退出</p>

<p>直接输入 ：:wq! 这四个字符后，回车即可保存。</p>

<h3 id="toc_10">使用</h3>

<h4 id="toc_11">界面介绍</h4>

<p><img src="media/15822327222660/1.4.png" alt=""/></p>

<h4 id="toc_12">工具介绍</h4>

<p><img src="media/15822327222660/1.5.png" alt=""/></p>

<h4 id="toc_13">添加快捷键</h4>

<p><img src="media/15822327222660/1.6.png" alt=""/></p>

<h2 id="toc_14">创建jupyter虚拟环境</h2>

<h3 id="toc_15">Windows</h3>

<h4 id="toc_16">conda关于环境的几个常用命令</h4>

<p>anaconda国内下载源：<a href="https://repo.continuum.io/archive/">https://repo.continuum.io/archive/</a></p>

<p>查看当前的环境列列表：</p>

<pre><code class="language-text">$ conda env list

创建新的python环境，并且还可以指定python的版本

$ conda create -n myenv python=3.7 激活、进入某个环境： $ activate test 退出环境： $ deactivate

删除环境： $ conda remove --name test --all

</code></pre>

<h4 id="toc_17">创建想要添加的虚拟环境</h4>

<pre><code class="language-text">conda create -n myenv python=3.5
</code></pre>

<p>创建好以后可以在C:\ProgramData\Anaconda3\envs\（具体与自己安装的anaconda路路径为准）  下找到新创建的环境</p>

<h4 id="toc_18">将新的环境添加到jupyter中</h4>

<p>第一：首先到C:\ProgramData\Anaconda3\share\jupyter\kernels 文件夹下，会有一个自带的Python3文件夹；</p>

<p>第二：然后在Python3  文件夹同级目录下创建一个文件夹test文件夹（名字自己随便取，记得是英文）；</p>

<p>第三：将Python3文件夹下的kernel.json文件复制到test文件夹下； </p>

<p>第四：用记事本打开后</p>

<pre><code class="language-text">{ &quot;argv&quot;: [ &quot;C:\\ProgramData\\Anaconda3\\python.exe&quot;, &quot;-m&quot;, &quot;ipykernel_launcher&quot;, &quot;-f&quot;, &quot;
{connection_ﬁle}&quot; ], &quot;display_name&quot;: &quot;Python 3&quot;, &quot;language&quot;: &quot;python&quot; }
</code></pre>

<p>将路径改成新创建的环境路路径，然后Python 3改成jupyter中想显示的名字。</p>

<p>第五：重启jupyter-notebook,选择新建会出现你想要的环境。</p>

<h4 id="toc_19">安装ipykernel库</h4>

<p>第一： activate myenv 激活你的虚拟环境</p>

<p>第二： conda install ipykernel , 中间会出现&lt;[y]/n&gt;? 在后面直接输入y,回车。</p>

<h4 id="toc_20">重启jupyter即可</h4>

<h3 id="toc_21">Mac</h3>

<h4 id="toc_22">mac中激活和退出某个环境的命令</h4>

<p>激活、进入某个环境： <br/>
$ source activate test</p>

<p>注意： 最新的anaconda 命令改成了conda activate test<br/>
退出环境： $ source deactivate</p>

<p>注意： 最新的anaconda 命令改成了conda deactivate</p>

<h4 id="toc_23">创建想要添加的虚拟环境</h4>

<p>$ conda create -n myenv python=3.5</p>

<h4 id="toc_24">查找kernel.json文件</h4>

<p>$ ﬁnd . -name &quot;kernel.json&quot;</p>

<p>第一：然后在 ./Library/Jupyter/kernels/ 目录下<strong>手动创建一个文件夹</strong>，然后创建一个名为 kernel.json 的文件，让该文件和已有的虚拟环境相关联，即可使用该虚拟环境。该json文件的内容大概如此：/Users/mac/Library/Jupyter/kernels/python37</p>

<p>{ &quot;display_name&quot;: &quot;py35&quot;, &quot;language&quot;: &quot;python&quot;, &quot;argv&quot;: [ &quot;/Users/mac/Library/Jupyter/kernels/python37/bin/python&quot;, &quot;-m&quot;, &quot;ipykernel_launcher&quot;, &quot;-f&quot;, &quot;{connection_ﬁle}&quot; ] }</p>

<p>第二： 重启jupyter，就会出现新的环境</p>

<p>注意： 上面操作完成之后，会提示/Users/mac/anaconda3/envs/python37/bin/python3.7: No module named ipykernel_launcher</p>

<p>第三：激活虚拟环境，然后conda install ipykernel</p>

<p>第四： 重启</p>

<h2 id="toc_25">Anaconda安装拓拓展</h2>

<p>第一： 终端输入</p>

<pre><code class="language-text">$ pip install jupyter_contrib_nbextensions
$ pip install jupyter_nbextensions_conﬁgurator
$ jupyter contrib nbextension install --user
</code></pre>

<p>第二： 重启jupyter</p>

<p><a href="https://jupyter-contrib-nbextensions.readthedocs.io/en/latest/nbextensions/code_prettify/README_code_prettify.html">关 于 插 件 的 介 绍 </a></p>

<p>例如： Hinterland 代码提示</p>

<h2 id="toc_26">jupyter汉化问题</h2>

<h3 id="toc_27">Mac</h3>

<p>jupyter在浏览器器的显示语言是根据终端语言自适应的，如果你的终端是中文，那么启动jupyter后，浏览器器就以中文显示</p>

<ol>
<li> 终端是中文状态，jupyter是中文</li>
</ol>

<p><img src="media/15822327222660/1.7.png" alt=""/></p>

<ol>
<li> 如果想显示英文，有两种方式可以设置</li>
</ol>

<h4 id="toc_28">一种是临时的</h4>

<p>终端中依次输入以下命令：</p>

<pre><code class="language-text">export LC_ALL=en_US.UTF-8
export LANG=en_US.UTF-8
</code></pre>

<p>然后在当前终端输入<code>jupyter notebook</code> 启动jupyter；</p>

<p>注意：以上的命令设置只对当前终端生效，如果在新的终端启动jupyter，还是会显示中文，目前没有对所有终端生效的方法。</p>

<h4 id="toc_29">一种是永久的</h4>

<ol>
<li> 在终端中输入locale查看系统默认的语言设置；</li>
<li> 使用vim编辑bash_proﬁle文件，修改设置，终端输入
<code>vim~/.bash_profile</code></li>
</ol>

<p><img src="media/15822327222660/1.8.png" alt=""/></p>

<ol>
<li><p>在最后一行添加<code>export LANG=en_US.UTF-8</code>这一行</p></li>
<li><p>保存文件退出，然后在终端输入<code>source ~/.bash_profile</code> ，让设置生效，然后启动</p></li>
</ol>

<p><img src="media/15822327222660/1.9.png" alt=""/></p>

<h3 id="toc_30">windows</h3>

<p>windows中在cmd中启动jupyter，默认以英文显示，如果想要中文，需要下载git。</p>

<ol>
<li> 下载地址：<a href="https://www.git-scm.com/download/win">https://www.git-scm.com/download/win</a></li>
<li> 一路路next，进行安装；</li>
<li> 安装完毕，搜索git bash并打开；</li>
<li> 打开Git bash输入命令<code>jupyter notebook</code>启动jupyter.</li>
</ol>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2020/02/21</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='%E5%9F%BA%E7%A1%80.html'>基础</a></span>
          				   
                    

                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15822327223909.html">
                
                  <h1>2. numpy</h1>
                 <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h2 id="toc_0">NumPy介绍</h2>

<p>Numpy（Numerical Python）是一个开源的Python科学计算库，用于快速处理任意维度的数组。<br/>
Numpy支持常见的数组和矩阵操作。对于同样的数值计算任务，使用Numpy比直接使用Python要简洁的多。<br/>
Numpy使用ndarray对象来处理多维数组，该对象是一个快速而灵活的大数据容器。</p>

<h2 id="toc_1">NumPy优点</h2>

<ol>
<li> 快速</li>
<li> 方便</li>
<li><p>科学计算的基础库</p></li>
</ol>

<ul>
<li><p>对于同样的数值计算任务，使用NumPy要比直接编写Python代码便捷得多；</p></li>
<li><p>NumPy中的数组的存储效率和输入输出性能均远远优于Python中等价的基本数据结构，且其能够提升的性能是   与数组中的元素成比例的；</p></li>
<li><p>NumPy的大部分代码都是用C语言写的，其底层算法在设计时就有着优异的性能，这使得NumPy比纯Python代  码高效得多</p></li>
</ul>

<h2 id="toc_2">安装</h2>

<pre><code class="language-text">pip install numpy
</code></pre>

<h2 id="toc_3">与原生list运算效率对比</h2>

<pre><code class="language-python">import random 
import time 
import numpy as np
a = []
for i in range(100000000): 
    a.append(random.random())
t1 = time.time() 
sum1=sum(a) 
t2=time.time()

b=np.array(a) 
t4=time.time() 
sum3=np.sum(b) 
t5=time.time() 

print(t2-t1, t5-t4)
</code></pre>

<pre><code class="language-text">45.5947265625 2.542968988418579
</code></pre>

<h2 id="toc_4">NumPy 的Ndarray 对象</h2>

<p>NumPy 最重要的一个特点是其 N 维数组对象 ndarray，它是一系列同类型数据的集合，以 0 下标为开始进行集合中元素的索引。ndarray 对象是用于存放同类型元素的多维数组。</p>

<h3 id="toc_5">创建一维数组</h3>

<p>多种样式创建一维数组</p>

<h4 id="toc_6">直接传入列表</h4>

<pre><code class="language-python">import numpy as np
list=[1,2,3,4]
Array_1=np.array(list)
print(Array_1,type(Array_1))
</code></pre>

<pre><code class="language-text">[1 2 3 4] &lt;class &#39;numpy.ndarray&#39;&gt;
</code></pre>

<h4 id="toc_7">传入range生成序列</h4>

<pre><code class="language-python">Array_2=np.array(range(1,10))
print(Array_2,type(Array_2))
</code></pre>

<pre><code class="language-text">[1 2 3 4 5 6 7 8 9] &lt;class &#39;numpy.ndarray&#39;&gt;
</code></pre>

<h4 id="toc_8">利用numpy自带的np.arange（）</h4>

<pre><code class="language-python">Array_3=np.arange(1,10)
print(Array_3,type(Array_3))
</code></pre>

<pre><code class="language-text">[1 2 3 4 5 6 7 8 9] &lt;class &#39;numpy.ndarray&#39;&gt;
</code></pre>

<h2 id="toc_9">创建二维数组</h2>

<pre><code class="language-python">list2=[[1,2,3],[4,5,6],[7,8,9]]

t1=np.array(list2)
print(t1,type(t1))
</code></pre>

<pre><code class="language-text">[[1 2 3]
 [4 5 6]
 [7 8 9]] &lt;class &#39;numpy.ndarray&#39;&gt;
</code></pre>

<h3 id="toc_10">常用属性</h3>

<pre><code class="language-python"># 获取数组的维度（与函数的参数相似）
print(t1.ndim)
</code></pre>

<pre><code class="language-text">2
</code></pre>

<pre><code class="language-python">#形状(行，列)
print(t1.shape)
</code></pre>

<pre><code class="language-text">(3, 3)
</code></pre>

<pre><code class="language-python">#元素个数
print(t1.size)
</code></pre>

<pre><code class="language-text">9
</code></pre>

<h3 id="toc_11">调整数组的形状</h3>

<pre><code class="language-python">t2= np.array([[1,2,3],[4,5,6]])
# 修改的是原有的four.shape = (3,2)
print(t2)

# 返回一个新的数组
t2 = t2.reshape(3,2) 
print(t2)

# 将多维变成一维数组
t3= t2.reshape((6,),order=&#39;F&#39;)
# 默认情况下‘C’以行为主的顺序展开，‘F’（Fortran风格）意味着以列的顺序展开

t4 = t2.flatten(order=&#39;F&#39;) 
print(t3)
print(t4)

</code></pre>

<pre><code class="language-text">[[1 2 3]
 [4 5 6]]
[[1 2]
 [3 4]
 [5 6]]
[1 3 5 2 4 6]
[1 3 5 2 4 6]
</code></pre>

<pre><code class="language-python"># 拓展：数组的形状
t = np.arange(24)
print(t) 
print(t.shape)


# 转换成二维
t1 = t.reshape((4,6))
print(t1) 
print(t1.shape)


# 转成三维
t2 = t.reshape((2,3,4)) 
print(t2) 
print(t2.shape)

</code></pre>

<pre><code class="language-text">[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23]
(24,)
[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
(4, 6)
[[[ 0  1  2  3]
  [ 4  5  6  7]
  [ 8  9 10 11]]

 [[12 13 14 15]
  [16 17 18 19]
  [20 21 22 23]]]
(2, 3, 4)
</code></pre>

<h3 id="toc_12">将数组转成list</h3>

<pre><code class="language-python">a= np.array([9, 12, 88, 14, 25])
list_a = a.tolist() 
print(list_a) 
print(type(list_a))

</code></pre>

<pre><code class="language-text">[9, 12, 88, 14, 25]
&lt;class &#39;list&#39;&gt;
</code></pre>

<h2 id="toc_13">NumPy的数据类型</h2>

<pre><code class="language-python">f = np.array([1,2,3,4,5], dtype = np.int16)

# 返回数组中每个元素的字节单位长度
print(f.itemsize) # 1 np.int8(一个字节)

</code></pre>

<pre><code class="language-text">2
</code></pre>

<pre><code class="language-python"># 获取数据类型
print(f.dtype)

</code></pre>

<pre><code class="language-text">int16
</code></pre>

<pre><code class="language-python"># 调整数据类型
f1 = f.astype(np.int64) 
print(f1.dtype)

</code></pre>

<pre><code class="language-text">int64
</code></pre>

<pre><code class="language-python"># 拓展随机生成小数
# 使用python语法，保留两位
print(round(random.random(),2))

arr = np.array([random.random() for i in range(10)])
# 取小数点后两位
print(np.round(arr,2))


</code></pre>

<pre><code class="language-text">0.02
[0.29 0.82 0.01 0.23 0.89 0.46 0.44 0.4  0.58 0.17]
</code></pre>

<table>
<thead>
<tr>
<th>类型</th>
<th>说明</th>
</tr>
</thead>

<tbody>
<tr>
<td>bool</td>
<td>用一个字节存储的布尔类型（True或False）</td>
</tr>
<tr>
<td>inti</td>
<td>由所在平台决定其大小的整数（一般为int32或int64）</td>
</tr>
<tr>
<td>int8</td>
<td>一个字节大小，-128 至 127</td>
</tr>
<tr>
<td>int16</td>
<td>整数，-32768 至 32767</td>
</tr>
<tr>
<td>int32</td>
<td>整数，-2 ** 31 至 2 ** 32 -1</td>
</tr>
<tr>
<td>int64</td>
<td>整数，-2 ** 63 至 2 ** 63 - 1</td>
</tr>
<tr>
<td>uint8</td>
<td>无符号整数，0 至 255</td>
</tr>
<tr>
<td>uint16</td>
<td>无符号整数，0 至 65535</td>
</tr>
<tr>
<td>uint32</td>
<td>无符号整数，0 至 2 ** 32 - 1</td>
</tr>
<tr>
<td>uint64</td>
<td>无符号整数，0 至 2 ** 64 - 1</td>
</tr>
<tr>
<td>float16</td>
<td>半精度浮点数：16位，正负号1位，指数5位，精度10位</td>
</tr>
<tr>
<td>float32</td>
<td>单精度浮点数：32位，正负号1位，指数8位，精度23位</td>
</tr>
<tr>
<td>float64或float</td>
<td>双精度浮点数：64位，正负号1位，指数11位，精度52位</td>
</tr>
<tr>
<td>complex64</td>
<td>复数，分别用两个32位浮点数表示实部和虚部</td>
</tr>
<tr>
<td>complex128或complex</td>
<td>复数，分别用两个64位浮点数表示实部和虚部</td>
</tr>
</tbody>
</table>

<h2 id="toc_14">数组的计算</h2>

<h3 id="toc_15">数组和数的计算</h3>

<p>由于numpy的广播机机制在运算过程中，加减乘除的值被广播到所有的元素上面。</p>

<pre><code class="language-python">t1 = np.arange(24).reshape((6,4)) 
print(t1+2)
print(t1*2) 
print(t1/2)

</code></pre>

<pre><code class="language-text">[[ 2  3  4  5]
 [ 6  7  8  9]
 [10 11 12 13]
 [14 15 16 17]
 [18 19 20 21]
 [22 23 24 25]]
[[ 0  2  4  6]
 [ 8 10 12 14]
 [16 18 20 22]
 [24 26 28 30]
 [32 34 36 38]
 [40 42 44 46]]
[[ 0.   0.5  1.   1.5]
 [ 2.   2.5  3.   3.5]
 [ 4.   4.5  5.   5.5]
 [ 6.   6.5  7.   7.5]
 [ 8.   8.5  9.   9.5]
 [10.  10.5 11.  11.5]]
</code></pre>

<h3 id="toc_16">数组与数组之间的操作</h3>

<p>同种形状的数组(对应位置进行计算操作)</p>

<pre><code class="language-python">t1 = np.arange(24).reshape((6,4))
t2 = np.arange(100,124).reshape((6,4))

print(t1+t2) 
print(t1*t2)

</code></pre>

<pre><code class="language-text">[[100 102 104 106]
 [108 110 112 114]
 [116 118 120 122]
 [124 126 128 130]
 [132 134 136 138]
 [140 142 144 146]]
[[   0  101  204  309]
 [ 416  525  636  749]
 [ 864  981 1100 1221]
 [1344 1469 1596 1725]
 [1856 1989 2124 2261]
 [2400 2541 2684 2829]]
</code></pre>

<p>不种形状的多维数组不能计算</p>

<pre><code class="language-python">t1 = np.arange(24).reshape((4,6)) 
t2 = np.arange(18).reshape((3,6)) 
print(t1)
print(t2) 
print(t1-t2)

</code></pre>

<pre><code class="language-text">[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]]




---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-32-8e6819c2b1e3&gt; in &lt;module&gt;()
      3 print(t1)
      4 print(t2)
----&gt; 5 print(t1-t2)



ValueError: operands could not be broadcast together with shapes (4,6) (3,6) 
</code></pre>

<p>行数或者列数相同的一维数组和多维数组可以进行计算： </p>

<p>行形状相同（会与每一行数组的对应位相操作)</p>

<pre><code class="language-python">t1 = np.arange(24).reshape((4,6)) 
t2 = np.arange(0,6)

print(t1-t2)


</code></pre>

<pre><code class="language-text">[[ 0  0  0  0  0  0]
 [ 6  6  6  6  6  6]
 [12 12 12 12 12 12]
 [18 18 18 18 18 18]]
</code></pre>

<p>列形状相同（会与每一个相同维度的数组的对应位相操作)</p>

<pre><code class="language-python">t1 = np.arange(24).reshape((4,6)) 
t2 = np.arange(4).reshape((4,1))

print(t1-t2)


</code></pre>

<pre><code class="language-text">[[ 0  1  2  3  4  5]
 [ 5  6  7  8  9 10]
 [10 11 12 13 14 15]
 [15 16 17 18 19 20]]
</code></pre>

<h2 id="toc_17">数组中的轴</h2>

<ol>
<li><p>什么是轴： 在numpy中可以理解为方向，使用0，1，2数字表示，对于一个一维数组，只有一个0轴， 对于2维数组（shape（2，2))有0轴和1轴， 对于3维数组（shape（2，2，3））有0，1，2轴</p></li>
<li><p>为什么要学习轴：有了轴的概念后，我们计算会更加方便，比如计算一个2维数组的平均值，必须指定是计算哪个方向上面的数字的平均值。</p></li>
</ol>

<p><img src="media/15822327223909/20191127155610-1577075803629.png" alt="20191127155610"/></p>

<p><img src="media/15822327223909/20191127155642-1577075815036.png" alt="20191127155642"/></p>

<pre><code class="language-python">import numpy as np
a = np.array([[1,2,3],[4,5,6]])

print(np.sum(a,axis=0)) # [5 7 9]

print(np.sum(a,axis = 1)) # [ 6 15]

print(np.sum(a))# 计算所有的值的和


</code></pre>

<pre><code class="language-text">[5 7 9]
[ 6 15]
21
</code></pre>

<pre><code class="language-python">#三维的数据
a = np.arange(27).reshape((3,3,3))
print(a)

</code></pre>

<pre><code class="language-text">[[[ 0  1  2]
  [ 3  4  5]
  [ 6  7  8]]

 [[ 9 10 11]
  [12 13 14]
  [15 16 17]]

 [[18 19 20]
  [21 22 23]
  [24 25 26]]]
</code></pre>

<pre><code class="language-python">b = np.sum(a, axis=0)
print(b)


</code></pre>

<pre><code class="language-text">[[27 30 33]
 [36 39 42]
 [45 48 51]]
</code></pre>

<pre><code class="language-python">c = np.sum(a, axis=1)
print(c)

</code></pre>

<pre><code class="language-text">[[ 9 12 15]
 [36 39 42]
 [63 66 69]]
</code></pre>

<pre><code class="language-python">c = np.sum(a, axis=2)
print(c)

</code></pre>

<pre><code class="language-text">[[ 3 12 21]
 [30 39 48]
 [57 66 75]]
</code></pre>

<p><strong>总结：</strong>在计算的时候可以想象成是每一个坐标轴，分别计算这个轴上面的每一个刻度上的值，或者在二维数组中记住0表示列1表示行.</p>

<h2 id="toc_18">数组的索引和切片</h2>

<p>一维数组的操作方法</p>

<pre><code class="language-python">import numpy as np

a = np.arange(10)
# 冒号分隔切片参数 start:stop:step 来进行切片操作

print(a[2:7:2])# 从索引 2 开始到索引 7 停止，间隔为 2

# 如果只放置一个参数，如 [2]，将返回与该索引相对应的单个元素
print(a[2],a)

# 如果为 [2:]，表示从该索引开始以后的所有项都将被提取
print(a[2:])


</code></pre>

<pre><code class="language-text">[2 4 6]
2 [0 1 2 3 4 5 6 7 8 9]
[2 3 4 5 6 7 8 9]
</code></pre>

<p>多维数组的操作方法</p>

<pre><code class="language-python">import numpy as np
t1 = np.arange(24).reshape(4,6) 
print(t1)
print(&#39;*&#39;*20)
print(t1[1]) # 取一行(一行代表是一条数据，索引也是从0开始的) 
print(t1[1,:]) # 取一行

print(t1[1:])# 取连续的多行
print(t1[1:3,:])# 取连续的多行

print(t1[[0,2,3]])# 取不连续的多行
print(t1[[0,2,3],:])# 取不连续的多行

print(t1[:,1])# 取一列
print(t1[:,1:])# 连续的多列
print(t1[:,[0,2,3]])# 取不连续的多列
print(t1[2,3])# # 取某一个值,三行四列
print(t1[[0,1,1],[0,1,3]])# 取多个不连续的值，[[行，行。。。],[列，列。。。]]

</code></pre>

<pre><code class="language-text">[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
********************
[ 6  7  8  9 10 11]
[ 6  7  8  9 10 11]
[[ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
[[ 6  7  8  9 10 11]
 [12 13 14 15 16 17]]
[[ 0  1  2  3  4  5]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
[[ 0  1  2  3  4  5]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
[ 1  7 13 19]
[[ 1  2  3  4  5]
 [ 7  8  9 10 11]
 [13 14 15 16 17]
 [19 20 21 22 23]]
[[ 0  2  3]
 [ 6  8  9]
 [12 14 15]
 [18 20 21]]
15
[0 7 9]
</code></pre>

<h2 id="toc_19">组中的数值修改</h2>

<pre><code class="language-python">t = np.arange(24).reshape(4,6)

# 修改某一行的值
t[1,:]=0

# 修改某一列的值
t[:,1]=0

# 修改连续多行
t[1:3,:]=0

# 修改连续多列
t[:,1:4]=0

# 修改多行多列，取第二行到第四行，第三列到第五列
t[1:4,2:5]=0

# 修改多个不相邻的点
t[[0,1],[0,3]]=0

# 可以根据条件修改，比如讲小于10的值改掉
t[t&lt;10]=0

# 使用逻辑判断
# np.logical_and    &amp; 
# np.logical_or |
# np.logical_not        ~ 

t[(t&gt;2)&amp;(t&lt;6)]=0    # 与
t[(t&lt;2)|(t&gt;6)]=0    # 或
t[~(t&gt;6)]=0 # 非
print(t)

# 拓 展
# 三目运算（ np.where(condition, x, y)满足条件(condition)，输出x，不满足输出y。)）
# score = np.array([[80,88],[82,81],[75,81]])
# result = np.where(score&gt;80,True,False) 
# print(result)

</code></pre>

<pre><code class="language-text">[[0 0 0 0 0 0]
 [0 0 0 0 0 0]
 [0 0 0 0 0 0]
 [0 0 0 0 0 0]]
</code></pre>

<h2 id="toc_20">数组的添加、删除和去重</h2>

<h3 id="toc_21">数组的添加</h3>

<ol>
<li>numpy.append 函数在数组的末尾添加值。 追加操作会分配整个数组，并把原来的数组复制到新数组中。 此外，输入数组的维度必须匹配否则将生成ValueError。</li>
</ol>

<p><strong>参数说明：</strong></p>

<ul>
<li>arr：输入数组</li>
<li>values：要向arr添加的值，需要和arr形状相同（除了要添加的轴）</li>
<li>axis：默认为 None。当axis无定义时，是横向加成，返回总是为一维数组！当axis有定义的时候，分别为0和1的时候。当</li>
<li>axis有定义的时候，分别为0和1的时候（列数要相同）。当axis为1时，数组是加在右边（行数要相同）。</li>
</ul>

<pre><code class="language-python">a = np.array([[1,2,3],[4,5,6]])

print (&#39;第一个数组：&#39;)
print (a)
print (&#39;\n&#39;)

print (&#39; 向 数 组 添 加 元 素 ：&#39;) 
print (np.append(a, [7,8,9])) 
print (&#39;\n&#39;)

print (&#39;沿轴 0 添加元素：&#39;)
print (np.append(a, [[7,8,9]],axis = 0)) 
print (&#39;\n&#39;)

print (&#39;沿轴 1 添加元素：&#39;)
print (np.append(a, [[5,5,5],[7,8,9]],axis = 1))


</code></pre>

<pre><code class="language-text">第一个数组：
[[1 2 3]
 [4 5 6]]
</code></pre>

<p>​<br/><br/>
​     向 数 组 添 加 元 素 ：<br/>
​    [1 2 3 4 5 6 7 8 9]</p>

<p>​<br/><br/>
​    沿轴 0 添加元素：<br/>
​    [[1 2 3]<br/>
​     [4 5 6]<br/>
​     [7 8 9]]</p>

<p>​<br/><br/>
​    沿轴 1 添加元素：<br/>
​    [[1 2 3 5 5 5]<br/>
​     [4 5 6 7 8 9]]</p>

<ol>
<li><p>numpy.insert 函数在给定索引之前，沿给定轴在输入数组中插入值。</p>
<p>如果值的类型转换为要插入，则它与输入数组不同。 插入没有原地的，函数会返回一个新数组。 此外，如果未提供轴，则输入数组会被展开。</p></li>
</ol>

<pre><code class="language-python">a = np.array([[1,2],[3,4],[5,6]])

print (&#39;第一个数组：&#39;) 
print (a)
print (&#39;\n&#39;)

print (&#39;未传递 Axis 参数。 在插入之前输入数组会被展开。&#39;) 
print (np.insert(a,3,[11,12]))
print (&#39;\n&#39;)
print (&#39;传递了 Axis 参数。 会广播值数组来配输入数组。&#39;)

print (&#39;沿轴  0 广播：&#39;)
print (np.insert(a,1,[11],axis = 0)) 
print (&#39;\n&#39;)

print (&#39;沿轴  1 广播：&#39;)
print (np.insert(a,1,11,axis = 1))


</code></pre>

<pre><code class="language-text">第一个数组：
[[1 2]
 [3 4]
 [5 6]]
</code></pre>

<p>​<br/><br/>
​    未传递 Axis 参数。 在插入之前输入数组会被展开。<br/>
​    [ 1  2  3 11 12  4  5  6]</p>

<p>​<br/><br/>
​    传递了 Axis 参数。 会广播值数组来配输入数组。<br/>
​    沿轴  0 广播：<br/>
​    [[ 1  2]<br/>
​     [11 11]<br/>
​     [ 3  4]<br/>
​     [ 5  6]]</p>

<p>​<br/><br/>
​    沿轴  1 广播：<br/>
​    [[ 1 11  2]<br/>
​     [ 3 11  4]<br/>
​     [ 5 11  6]]</p>

<h3 id="toc_22">数组中的删除</h3>

<p>numpy.delete 函数返回从输入数组中删除指定子数组的新数组。 与 insert() 函数的情况一样，如果未提供轴参数， 则输入数组将展开。</p>

<p><strong>参数说明：</strong></p>

<ul>
<li><p>arr： 输入数组  </p></li>
<li><p>obj：可以被切片，整数或者整数数组，表明要从输入数组删除的子数组</p></li>
<li><p>axis：沿着它删除给定子数组的轴，如果未提供，则输入数组会被展开</p></li>
</ul>

<pre><code class="language-python">a = np.arange(12).reshape(3,4)
print (&#39;第一个数组：&#39;)
print (a)
print (&#39;\n&#39;)

print (&#39;未传递 Axis 参数。 在删除之前输入数组会被展开。&#39;) 
print (np.delete(a,5))
print (&#39;\n&#39;)

print (&#39;删除每一行中的第二列：&#39;)
print (np.delete(a,1,axis = 1)) 
print (&#39;\n&#39;)


</code></pre>

<pre><code class="language-text">第一个数组：
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]
</code></pre>

<p>​<br/><br/>
​    未传递 Axis 参数。 在删除之前输入数组会被展开。<br/>
​    [ 0  1  2  3  4  6  7  8  9 10 11]</p>

<p>​<br/><br/>
​    删除每一行中的第二列：<br/>
​    [[ 0  2  3]<br/>
​     [ 4  6  7]<br/>
​     [ 8 10 11]]</p>

<p>​<br/><br/>
​    </p>

<h3 id="toc_23">数组去重</h3>

<p>numpy.unique 函数用于去除数组中的重复元素。</p>

<ul>
<li>arr：输入数组 ，如果不是一维数组则会展开                         * return_index：如果为true，返回新列表元素在旧列表中的位置（下标），并以列表形式储</li>
<li>return_inverse：如果为true，返回旧列表元素在新列表中的位置（下标），并以列表形式储</li>
<li>return_counts：如果为true，返回去重数组中的元素在原数组中的出现次数</li>
</ul>

<pre><code class="language-python">a = np.array([5,2,6,2,7,5,6,8,2,9])
print (&#39;第一个数组：&#39;) 
print (a)
print (&#39;\n&#39;)

print (&#39;第一个数组的去重值：&#39;) 
u = np.unique(a)
print (u)
print (&#39;\n&#39;)


print (&#39;去重数组的索引数组：&#39;)
u,indices = np.unique(a, return_index = True) 
print (indices)
print (&#39;\n&#39;)

print (&#39;我们可以看到每个和原数组下标对应的数值：&#39;) 
print (a)
print (&#39;\n&#39;)

print (&#39;去重数组的下标：&#39;)
u,indices = np.unique(a,return_inverse = True) 
print (u)
print (indices) 
print (&#39;\n&#39;)

print (&#39;返回去重元素的重复数量：&#39;)
u,indices = np.unique(a,return_counts = True) # print (u)
print (indices)

</code></pre>

<pre><code class="language-text">第一个数组：
[5 2 6 2 7 5 6 8 2 9]
</code></pre>

<p>​<br/><br/>
​    第一个数组的去重值：<br/>
​    [2 5 6 7 8 9]</p>

<p>​<br/><br/>
​    去重数组的索引数组：<br/>
​    [1 0 2 4 7 9]</p>

<p>​<br/><br/>
​    我们可以看到每个和原数组下标对应的数值：<br/>
​    [5 2 6 2 7 5 6 8 2 9]</p>

<p>​<br/><br/>
​    去重数组的下标：<br/>
​    [2 5 6 7 8 9]<br/>
​    [1 0 2 0 3 1 2 4 0 5]</p>

<p>​<br/><br/>
​    返回去重元素的重复数量：<br/>
​    [3 2 2 1 1 1]</p>

<h2 id="toc_24">numpy的计算</h2>

<pre><code class="language-python">score = np.array([[80,88],[82,81],[75,81]])
print(score)

</code></pre>

<pre><code class="language-text">[[80 88]
 [82 81]
 [75 81]]
</code></pre>

<h3 id="toc_25">获取所有数据最大值</h3>

<pre><code class="language-python">print(np.max(score))

</code></pre>

<pre><code class="language-text">88
</code></pre>

<h3 id="toc_26">获取某个轴上的数据最大值</h3>

<pre><code class="language-python">print(np.max(score,axis=0))

</code></pre>

<pre><code class="language-text">[82 88]
</code></pre>

<h3 id="toc_27">获取最小值</h3>

<pre><code class="language-python">print(np.min(score))

</code></pre>

<pre><code class="language-text">75
</code></pre>

<h3 id="toc_28">获取某个轴上最小值</h3>

<pre><code class="language-python">print(np.min(score,axis=0))

</code></pre>

<pre><code class="language-text">[75 81]
</code></pre>

<h3 id="toc_29">数据的比较</h3>

<pre><code class="language-python">t1=[1,2,3,4,5,6,7,8]
print(t1)

</code></pre>

<pre><code class="language-text">[1, 2, 3, 4, 5, 6, 7, 8]
</code></pre>

<pre><code class="language-python">print(np.maximum(t1,0)) # 第一个参数中的每一个数与第二个参数比较返回大的

</code></pre>

<pre><code class="language-text">[1 2 3 4 5 6 7 8]
</code></pre>

<pre><code class="language-python">print(np.minimum(t1,0))# 第一个参数中的每一个数与第二个参数比较返回小的

</code></pre>

<pre><code class="language-text">[0 0 0 0 0 0 0 0]
</code></pre>

<pre><code class="language-python"># 接受的两个参数，也可以大小一致;第二个参数只是一个单独的值时，其实是用到了维度的广播机制
print(np.maximum(t1,[2,4,6,8,9,1,3,5]))

</code></pre>

<pre><code class="language-text">[2 4 6 8 9 6 7 8]
</code></pre>

<h3 id="toc_30">求平均值</h3>

<pre><code class="language-python">print(np.mean(t1))# 获取所有数据的平均值

</code></pre>

<pre><code class="language-text">4.5
</code></pre>

<pre><code class="language-python">print(np.mean(score,axis=0))

</code></pre>

<pre><code class="language-text">[79.         83.33333333]
</code></pre>

<h3 id="toc_31">求前缀和</h3>

<pre><code class="language-python">arr = np.array([[1,2,3], [4,5,6]]) 
print(arr)
print(&#39;*&#39;*20)
print(&#39;&#39;&#39;
[1, 2, 3]------&gt;    |  1   |  2   |  3  |
[4, 5, 6]------&gt;    |5=1+4 |7=2+5 |9=3+6| &#39;&#39;&#39;)
print(&#39;*&#39;*20)
print(arr.cumsum(0))

</code></pre>

<pre><code class="language-text">[[1 2 3]
 [4 5 6]]
********************

[1, 2, 3]------&gt;    |  1   |  2   |  3  |
[4, 5, 6]------&gt;    |5=1+4 |7=2+5 |9=3+6| 
********************
[[1 2 3]
 [5 7 9]]
</code></pre>

<pre><code class="language-python">print(&#39;&#39;&#39;
[1, 2, 3]------&gt;    |1  |2+1    |3+2+1  |
[4, 5, 6]------&gt;    |4  |4+5    |4+5+6  | &#39;&#39;&#39;)
print(&#39;*&#39;*20)
print(arr.cumsum(1)) 

</code></pre>

<pre><code class="language-text">[1, 2, 3]------&gt;    |1  |2+1    |3+2+1  |
[4, 5, 6]------&gt;    |4  |4+5    |4+5+6  | 
********************
[[ 1  3  6]
 [ 4  9 15]]
</code></pre>

<h3 id="toc_32">求最小索引值</h3>

<pre><code class="language-python">print(np.argmin(score,axis=0))

</code></pre>

<pre><code class="language-text">[2 1]
</code></pre>

<h3 id="toc_33">求每一列的标准差</h3>

<p>标准差是一组数据平均值分散程度的一种度量。一个较大的标准差，代表大部分数值和其平均值之间差异较大；</p>

<p>一个较小的标准差，代表这些数据较接近平均值反应出数据的波动稳定情况，越大表示波动越大，越不稳定。</p>

<pre><code class="language-python">print(np.std(score,axis=0))

</code></pre>

<pre><code class="language-text">[2.94392029 3.29983165]
</code></pre>

<h3 id="toc_34">极 值</h3>

<pre><code class="language-python">np.ptp(score,axis=None)# 就是最大值和最小值的差

</code></pre>

<pre><code class="language-text">13
</code></pre>

<h3 id="toc_35">拓展</h3>

<ul>
<li>方差var</li>
<li>协方差cov</li>
<li>计算平均值 average</li>
<li>计算中位数 median</li>
</ul>

<h2 id="toc_36">通用函数</h2>

<table>
<thead>
<tr>
<th>函数</th>
<th>介绍</th>
</tr>
</thead>

<tbody>
<tr>
<td>numpy.sqrt(array)</td>
<td>平方根函数</td>
</tr>
<tr>
<td>numpy.exp(array)</td>
<td>e<sup>array[i]的数组</sup></td>
</tr>
<tr>
<td>numpy.abs/fabs(array)</td>
<td>计算绝对值</td>
</tr>
<tr>
<td>numpy.square(array)</td>
<td>计算各元素的平方 等于array**2</td>
</tr>
<tr>
<td>numpy.log/log10/log2(array)</td>
<td>计算各元素的各种对数</td>
</tr>
<tr>
<td>numpy.sign(array)</td>
<td>计算各元素正负号</td>
</tr>
<tr>
<td>numpy.isnan(array)</td>
<td>计算各元素是否为NaN</td>
</tr>
<tr>
<td>numpy.isinf(array)</td>
<td>计算各元素是否为NaN</td>
</tr>
<tr>
<td>numpy.cos/cosh/sin/sinh/tan/tanh(array)</td>
<td>三角函数</td>
</tr>
<tr>
<td>numpy.modf(array)</td>
<td>将array中值得整数和小数分离，作两个数组返回</td>
</tr>
<tr>
<td>numpy.ceil(array)</td>
<td>向上取整,也就是取比这个数大的整数</td>
</tr>
<tr>
<td>numpy.floor(array)</td>
<td>向下取整,也就是取比这个数小的整数</td>
</tr>
<tr>
<td>numpy.rint(array)</td>
<td>四舍五入</td>
</tr>
<tr>
<td>numpy.trunc(array)</td>
<td>向0取整</td>
</tr>
<tr>
<td>numpy.cos(array)</td>
<td>正弦值</td>
</tr>
<tr>
<td>numpy.sin(array)</td>
<td>余弦值</td>
</tr>
<tr>
<td>numpy.tan(array)</td>
<td>正切值</td>
</tr>
<tr>
<td>numpy.add(array1,array2)</td>
<td>元素级加法</td>
</tr>
<tr>
<td>numpy.subtract(array1,array2)</td>
<td>元素级减法</td>
</tr>
<tr>
<td>numpy.multiply(array1,array2)</td>
<td>元素级乘法</td>
</tr>
<tr>
<td>numpy.divide(array1,array2)</td>
<td>元素级除法 array1./array2</td>
</tr>
<tr>
<td>numpy.power(array1,array2)</td>
<td>元素级指数 array1.<sup>array2</sup></td>
</tr>
<tr>
<td>numpy.maximum/minimum(array1,aray2)</td>
<td>元素级最大值</td>
</tr>
<tr>
<td>numpy.fmax/fmin(array1,array2)</td>
<td>元素级最大值，忽略NaN</td>
</tr>
<tr>
<td>numpy.mod(array1,array2)</td>
<td>元素级求模</td>
</tr>
<tr>
<td>numpy.copysign(array1,array2)</td>
<td>将第二个数组中值得符号复制给第一个数组中值</td>
</tr>
<tr>
<td>numpy.greater/greater_equal/less/less_equal/equal/not_equal  (array1,array2)</td>
<td>元素级比较运算，产生布尔数组</td>
</tr>
<tr>
<td>numpy.logical_end/logical_or/logic_xor(array1,array2)</td>
<td>元素级的真值逻辑运算</td>
</tr>
</tbody>
</table>

<h2 id="toc_37">数组的拼接</h2>

<p>有的时候我们需要将两个数据加起来一起研究分析，我们就可以将其进行拼接然后分析</p>

<h3 id="toc_38">根据轴连接的数组序列</h3>

<pre><code class="language-python">a = np.array([[1,2],[3,4]])
b = np.array([[5,6],[7,8]])

#要求a,b两个数组的维度相同
print (&#39;沿轴 0 连接两个数组：&#39;)
print (np.concatenate((a,b),axis= 0))
print (&#39;\n&#39;)
print (&#39;沿轴 1 连接两个数组：&#39;)
print (np.concatenate((a,b),axis = 1))

</code></pre>

<pre><code class="language-text">沿轴 0 连接两个数组：
[[1 2]
 [3 4]
 [5 6]
 [7 8]]
</code></pre>

<p>​<br/><br/>
​    沿轴 1 连接两个数组：<br/>
​    [[1 2 5 6]<br/>
​     [3 4 7 8]]</p>

<h3 id="toc_39">根据轴进行堆叠</h3>

<pre><code class="language-python">print (&#39;沿轴 0 连接两个数组：&#39;)
print (np.stack((a,b),axis= 0))
print (&#39;\n&#39;)
print (&#39;沿轴 1 连接两个数组：&#39;)
print (np.stack((a,b),axis = 1))

</code></pre>

<pre><code class="language-text">沿轴 0 连接两个数组：
[[[1 2]
  [3 4]]

 [[5 6]
  [7 8]]]
</code></pre>

<p>​<br/><br/>
​    沿轴 1 连接两个数组：<br/>
​    [[[1 2]<br/>
​      [5 6]]<br/>
​<br/><br/>
​     [[3 4]<br/>
​      [7 8]]]</p>

<h3 id="toc_40">矩阵垂直拼接</h3>

<pre><code class="language-python">v1 = [[0,1,2,3,4,5],
    [6,7,8,9,10,11]] 

v2 = [[12,13,14,15,16,17],
    [18,19,20,21,22,23]] 

result = np.vstack((v1,v2)) 
print(result)

</code></pre>

<pre><code class="language-text">[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
</code></pre>

<h3 id="toc_41">矩阵水平拼接</h3>

<pre><code class="language-python">result = np.hstack((v1,v2)) 
print(result)

</code></pre>

<pre><code class="language-text">[[ 0  1  2  3  4  5 12 13 14 15 16 17]
 [ 6  7  8  9 10 11 18 19 20 21 22 23]]
</code></pre>

<h2 id="toc_42">数组的分割</h2>

<h3 id="toc_43">将一个数组分割为多个子数组</h3>

<p><strong>参数说明：</strong></p>

<ul>
<li>ary： 被分割的数组<br/></li>
<li>indices_or_sections：果是一个整数，就用该数平均切分，如果是一个数组，为沿轴切分的位置（左开右闭）</li>
<li>axis：沿着哪个维度进行切向，默认为0，横向切分。为1时，纵向切分</li>
</ul>

<pre><code class="language-python">arr = np.arange(9).reshape(3,3)
print (&#39;将数组分为三个大小相等的子数组：&#39;) 
b= np.split(arr,3)
print (b)

</code></pre>

<pre><code class="language-text">将数组分为三个大小相等的子数组：
[array([[0, 1, 2]]), array([[3, 4, 5]]), array([[6, 7, 8]])]
</code></pre>

<h3 id="toc_44">numpy.hsplit 函数用于水平分割数组，通过指定要返回的相同形状的数组数量来拆分原数组。</h3>

<pre><code class="language-python">harr = np.floor(10 * np.random.random((2, 6))) #
print (&#39;原array：&#39;)
print(harr)

print (&#39;拆分后：&#39;)
print(np.hsplit(harr, 3))

</code></pre>

<pre><code class="language-text">原array：
[[6. 9. 3. 6. 1. 1.]
 [8. 3. 1. 7. 4. 5.]]
拆分后：
[array([[6., 9.],
       [8., 3.]]), array([[3., 6.],
       [1., 7.]]), array([[1., 1.],
       [4., 5.]])]
</code></pre>

<h3 id="toc_45">numpy.vsplit</h3>

<p>沿着垂直轴分割</p>

<pre><code class="language-python">a = np.arange(16).reshape(4,4)
print (&#39;第一个数组：&#39;) 
print (a)
print (&#39;\n&#39;)

print (&#39;竖直分割：&#39;)
b = np.vsplit(a,2) 
print (b)

</code></pre>

<pre><code class="language-text">第一个数组：
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]
 [12 13 14 15]]
</code></pre>

<p>​<br/><br/>
​    竖直分割：<br/>
​    [array([[0, 1, 2, 3],<br/>
​           [4, 5, 6, 7]]), array([[ 8,  9, 10, 11],<br/>
​           [12, 13, 14, 15]])]</p>

<h2 id="toc_46">数组中nan和inf</h2>

<p>C 语言中表示最大的正整数值是 0x7FFF FFFF，最小的负整数是 0x8000 0000。<br/>
查阅资料后，发现 inf 表示无穷大，需要使用 float(‘inf’) 函数来转化，那么对应的就有  float(&#39;-inf&#39;) 表示无穷小了。这样你就可以使用任意数来判断和它的关系了。</p>

<p>那什么时候会出现inf呢？ 比如一个数字除以0，Python中会报错，但是numpy中会是一个inf或者-inf</p>

<p>另外还有 nan，这种写法在 pandans 中常见，表示缺失的数据，所以一般用 nan 来表示。任何与其做运算结果都是 nan</p>

<pre><code class="language-python"># 创建一个nan和inf 
a = np.nan 
b = np.inf
print(a,type(a)) 
print(b,type(b))

#--判断数组中为nan的个数
t = np.arange(24,dtype=float).reshape(4,6)

#将三行四列的数改成nan 
t[3,4] = np.nan

#可以使用np.count_nonzero() 来判断非零的个数
print(np.count_nonzero(t))
#并 且  np.nan != np.nan  结果 是TRUE
#所以我们可以使用这两个结合使用判断nan的个数
print(np.count_nonzero(t != t))

#将nan替换为0
t[np.isnan(t)] = 0 
print(t)

</code></pre>

<pre><code class="language-text">nan &lt;class &#39;float&#39;&gt;
inf &lt;class &#39;float&#39;&gt;
23
1
[[ 0.  1.  2.  3.  4.  5.]
 [ 6.  7.  8.  9. 10. 11.]
 [12. 13. 14. 15. 16. 17.]
 [18. 19. 20. 21.  0. 23.]]
</code></pre>

<pre><code class="language-python">#----------练习： 处理数组中nan
t = np.arange(24).reshape(4,6).astype(&#39;float&#39;)
#将数组中的一部分替换nan 
t[1,3:] = np.nan
print(t)
#遍历每一列，然后判断每一列是否有nan 
for i in range(t.shape[1]):
#   #获取当前列数据
    temp_col = t[:,i]
#
#   判断当前列的数据中是否含有nan
    nan_num = np.count_nonzero(temp_col != temp_col)
#
    if nan_num != 0: #条件成立说明含有nan 
    # 将这一列不为nan的数据拿出来
        temp_col_not_nan = temp_col[temp_col==temp_col]
# 将nan替换成这一列的平均值
        temp_col[np.isnan(temp_col)] = np.mean(temp_col_not_nan)
print(t)

</code></pre>

<pre><code class="language-text">[[ 0.  1.  2.  3.  4.  5.]
 [ 6.  7.  8. nan nan nan]
 [12. 13. 14. 15. 16. 17.]
 [18. 19. 20. 21. 22. 23.]]
[[ 0.  1.  2.  3.  4.  5.]
 [ 6.  7.  8. 13. 14. 15.]
 [12. 13. 14. 15. 16. 17.]
 [18. 19. 20. 21. 22. 23.]]
</code></pre>

<h2 id="toc_47">二维数组的转置</h2>

<pre><code class="language-python">#对换数组的维度
a = np.arange(12).reshape(3,4) 
print (&#39;原数组：&#39;)
print (a )
print (&#39;\n&#39;)

print (&#39;对换数组：&#39;)
print (np.transpose(a))

# 与transpose一致
a = np.arange(12).reshape(3,4)

print (&#39;原数组：&#39;) 
print (a)
print (&#39;\n&#39;)

print (&#39;转置数组：&#39;) 
print (a.T)

# 函数用于交换数组的两个轴
t1 = np.arange(24).reshape(4,6)
re = t1.swapaxes(1,0) 
print (&#39; 原 数 组 ：&#39;) 
print (t1)
print (&#39;\n&#39;)

print (&#39;调用 swapaxes 函数后的数组：&#39;) 
print (re)

</code></pre>

<pre><code class="language-text">原数组：
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]
</code></pre>

<p>​<br/><br/>
​    对换数组：<br/>
​    [[ 0  4  8]<br/>
​     [ 1  5  9]<br/>
​     [ 2  6 10]<br/>
​     [ 3  7 11]]<br/>
​    原数组：<br/>
​    [[ 0  1  2  3]<br/>
​     [ 4  5  6  7]<br/>
​     [ 8  9 10 11]]</p>

<p>​<br/><br/>
​    转置数组：<br/>
​    [[ 0  4  8]<br/>
​     [ 1  5  9]<br/>
​     [ 2  6 10]<br/>
​     [ 3  7 11]]<br/>
​     原 数 组 ：<br/>
​    [[ 0  1  2  3  4  5]<br/>
​     [ 6  7  8  9 10 11]<br/>
​     [12 13 14 15 16 17]<br/>
​     [18 19 20 21 22 23]]</p>

<p>​    调用 swapaxes 函数后的数组：<br/>
​    [[ 0  6 12 18]<br/>
​     [ 1  7 13 19]<br/>
​     [ 2  8 14 20]<br/>
​     [ 3  9 15 21]<br/>
​     [ 4 10 16 22]<br/>
​     [ 5 11 17 23]]</p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2020/02/21</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='%E5%B8%B8%E7%94%A8%E5%BA%93.html'>常用库</a></span>
          				   
                    

                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
			<div class="article">
                <a class="clearlink" href="15822327223959.html">
                
                  <h1>1. matplotlib</h1>
                 <div class="a-content">
                      
                      <div class="a-content-text">
                        
                        	<h2 id="toc_0">matplotlib介绍</h2>

<p>Matplotlib是一个Python2D绘图库，它可以在各种平台上以各种硬拷贝格式和交互式环境生成出具有出版品质的图形。 Matplotlib可用于Python脚本，Python和IPython shell，Jupyter笔记本，Web应用程序服务器和四个图形用户界面工具包。</p>

<p>Matplotlib试图让简单的事情变得更简单，让无法实现的事情变得可能实现。 只需几行代码即可生成绘图，直方图， 功率谱，条形图，错误图，散点图等。</p>

<p>为了简单绘图，pyplot模块提供了类似于MATLAB的界面，特别是与IPython结合使用时。 对于高级用户，您可以通过面向对象的界面或MATLAB用户熟悉的一组函数完全控制线条样式，字体属性，轴属性等。</p>

<h2 id="toc_1">matplotlib优点</h2>

<p>可视化是在整个数据挖掘的关键辅助工具，可以清晰的理解数据，从而调整我们的分析方法。</p>

<ul>
<li>能将数据进行可视化,更直观的呈现</li>
<li>使数据更加客观、更具说服力</li>
</ul>

<p>例如下面两个图为数字展示和图形展示：<br/>
<img src="media/15822327223959/2.1.jpg" alt=""/></p>

<h2 id="toc_2">常见图形种类及意义</h2>

<ul>
<li><p>折线图：以折线的上升或下降来表示统计数量的增减变化的统计图</p>
<p><strong>特点：能够显示数据的变化趋势，反映事物的变化情况。(变化)</strong></p></li>
</ul>

<p><img src="media/15822327223959/clip_image007.gif" alt=""/></p>

<ul>
<li><p>散点图：用两组数据构成多个坐标点，考察坐标点的分布,判断两变量之间是否存在某种关联或总结坐标点的分布模式。</p>
<p><strong>特点：判断变量之间是否存在数量关联趋势,展示离群点(分布规律)</strong></p></li>
</ul>

<p><img src="media/15822327223959/20191127101123.png" alt=""/></p>

<ul>
<li>柱状图：排列在工作表的列或行中的数据可以绘制到柱状图中。
<strong>特点：绘制连离散的数据,能够一眼看出各个数据的大小,比较数据之间的差别。(统计/对比)</strong>
<img src="media/15822327223959/20191127101217.png" alt=""/></li>
<li>直方图：由一系列高度不等的纵向条纹或线段表示数据分布的情况。   一般用横轴表示数据范围，纵轴表示分布情况。
<strong>特点：绘制连续性的数据展示一组或者多组数据的分布状况(统计)</strong></li>
</ul>

<p><img src="media/15822327223959/20191127101232.png" alt=""/></p>

<ul>
<li>饼图：用于表示不同分类的占比情况，通过弧度大小来对比各种分类。
<strong>特点：分类数据的占比情况(占比)</strong>
<img src="media/15822327223959/20191127101311.png" alt=""/></li>
</ul>

<h2 id="toc_3">安装</h2>

<pre><code class="language-text">source activate python37 
pip install matplotlib
</code></pre>

<h2 id="toc_4">Matplotlib画图</h2>

<pre><code class="language-python"># 导入模块
import matplotlib.pyplot as plt
# 在jupyter中执行的时候显示图片
%matplotlib inline
# 传入x和y, 通过plot画图
plt.plot([1, 0, 9], [4, 5, 6])
# 在执行程序的时候展示图形
plt.show()
</code></pre>

<p><img src="media/15822327223959/output20.png" alt="png"/></p>

<h2 id="toc_5">matplotlib图像结构的认识</h2>

<p><img src="media/15822327223959/20191127101529.png" alt=""/></p>

<h2 id="toc_6">折线图</h2>

<h3 id="toc_7">折线图的绘制</h3>

<pre><code class="language-python">from matplotlib import pyplot as plt 
x = range(1,8) # x轴的位置
y = [17, 17, 18, 15, 11, 11, 13]
# 传入x和y, 通过plot画折线图
plt.plot(x,y) 
plt.show()
</code></pre>

<p><img src="media/15822327223959/output40.png" alt="png"/></p>

<h3 id="toc_8">折线图的颜色和形状设置</h3>

<pre><code class="language-python">from matplotlib import pyplot as plt 


x = range(1,8) # x轴的位置
y = [17, 17, 18, 15, 11, 11, 13]
# 传入x和y, 通过plot画折线图
plt.plot(x, y, color=&#39;red&#39;,alpha=0.5,linestyle=&#39;--&#39;,linewidth=3) 


&#39;&#39;&#39;
基础属性设置
color=&#39;red&#39; : 折线的颜色
alpha=0.5: 折线的透明度(0-1) 
linestyle=&#39;--&#39; : 折线的样式
linewidth=3 : 折线的宽度
&#39;&#39;&#39;

&#39;&#39;&#39;
线的样式
-   实线(solid)
--  短线(dashed)
-.  短点相间线(dashdot)
：   虚点线(dotted)
&#39;&#39;&#39;
plt.show()
</code></pre>

<p><img src="media/15822327223959/output60.png" alt="png"/></p>

<h3 id="toc_9">折点样式</h3>

<pre><code class="language-python">from matplotlib import pyplot as plt 
x = range(1,8) # x轴的位置
y = [17, 17, 18, 15, 11, 11, 13]
# 传入x和y, 通过plot画折线图
plt.plot(x, y, marker=&#39;o&#39;) 
plt.show()
&#39;&#39;&#39;
折点形状选择:
================    ===============================
 
character   description
================    ===============================
``&#39;-&#39;`` solid line style
``&#39;--&#39;``    dashed line style
``&#39;-.&#39;``    dash-dot line style
``&#39;:&#39;`` dotted line style
``&#39;.&#39;`` point marker
``&#39;,&#39;`` pixel marker
``&#39;o&#39;`` circle marker
``&#39;v&#39;`` triangle_down marker
``&#39;^&#39;`` triangle_up marker
``&#39;&lt;&#39;`` triangle_left marker
``&#39;&gt;&#39;`` triangle_right marker
``&#39;1&#39;`` tri_down marker
``&#39;2&#39;`` tri_up marker
``&#39;3&#39;`` tri_left marker
``&#39;4&#39;`` tri_right marker
``&#39;s&#39;`` square marker
``&#39;p&#39;`` pentagon marker
``&#39;*&#39;`` star marker
``&#39;h&#39;`` hexagon1 marker
``&#39;H&#39;`` hexagon2 marker
``&#39;+&#39;`` plus marker
``&#39;x&#39;`` x marker
``&#39;D&#39;`` diamond marker
``&#39;d&#39;`` thin_diamond marker
``&#39;|&#39;`` vline marker
``&#39;_&#39;`` hline marker
&#39;&#39;&#39;

plt.show()

</code></pre>

<p><img src="media/15822327223959/output80.png" alt="png"/></p>

<h3 id="toc_10">设置图片的大小和保存</h3>

<pre><code class="language-python">from matplotlib import pyplot as plt 
import random

x = range(2,26,2) # x轴的位置
y = [random.randint(15, 30) for i in x]
# 设置图片的大小
&#39;&#39;&#39;
figsize:指定figure的宽和高，单位为英寸；
dpi参数指定绘图对象的分辨率，即每英寸多少个像素，缺省值为80    1英寸等于2.5cm,A4纸是 21*30cm的纸张
&#39;&#39;&#39;
# 根据画布对象
plt.figure(figsize=(20,8),dpi=80)
 
plt.plot(x,y)   # 传入x和y, 通过plot画图
# plt.show()
# 保存(注意： 要放在绘制的下面,并且plt.show()会释放figure资源，如果在显示图像之后保存图片将只能保存空图片。)
plt.savefig(&#39;./t1.png&#39;)
# 图片的格式也可以保存为svg这种矢量图格式，这种矢量图放在网页中放大后不会有锯齿
# plt.savefig(&#39;./t1.svg&#39;)
</code></pre>

<p><img src="media/15822327223959/output100.png" alt="png"/></p>

<h3 id="toc_11">绘制x轴和y轴刻度</h3>

<pre><code class="language-python">from matplotlib import pyplot as plt 
x = range(2,26,2) # x轴的位置
y = [random.randint(15, 30) for i in x] 
plt.figure(figsize=(20,8),dpi=80)

# 设置x轴的刻度
# plt.xticks(x)
# plt.xticks(range(1,25))
# 设置y轴的刻度
# plt.yticks(y)
# plt.yticks(range(min(y),max(y)+1))

# 构造x轴刻度标签
x_ticks_label = [&quot;{}:00&quot;.format(i) for i in x] #rotation = 45 让字旋转45度plt.xticks(x,x_ticks_label,rotation = 45)
# 设置y轴的刻度标签
y_ticks_label = [&quot;{}℃&quot;.format(i) for i in range(min(y),max(y)+1)]
plt.yticks(range(min(y),max(y)+1),y_ticks_label)

# 绘 图
plt.plot(x,y) 
plt.show()
</code></pre>

<p><img src="media/15822327223959/output120.png" alt="png"/></p>

<h3 id="toc_12">设置显示中文</h3>

<pre><code class="language-python"># matplotlib只显示英文,无法显示中文，需要修改matplotlib的默认字体
# 通过matplotlib下的font_manager可以解决
# 两个小时内的每分钟跳动变化
from matplotlib import pyplot as plt 
import matplotlib
import random


x = range(0,120)
y = [random.randint(10,30) for i in range(120)]
plt.figure(figsize=(20,8),dpi=80) 
plt.plot(x,y)
# 加坐标轴信息
# 在有中文输出的地方，增加一个属性： fontproperties
# plt.xlabel(&#39;时间&#39;,fontproperties = &#39;simHei&#39;,fontsize=20)
&#39;&#39;&#39;
另外一种写法
查看Linux、Mac下支持的字体
终端执行： fc-list
查看支持的中文（冒号前面有空格) fc-list :lang=zh
查看Windows下的字体：“C:\Windows\Fonts”
可以自己下载字体文件（xxx.ttf），然后双击安装即可

# my_font = font_manager.FontProperties(fname=&#39;/System/Library/Fonts/PingFang.ttc&#39;,size=18) 
# plt.ylabel(&quot;天气&quot;,fontproperties=my_font)
&#39;&#39;&#39;



from matplotlib import font_manager
my_font = font_manager.FontProperties(fname=r&quot;C:/Windows/Fonts/msyh.ttc&quot;,size=16)#msyh为微软雅黑

#rotation将字体旋转45度
plt.xlabel(&#39;时间&#39;,rotation=45,fontproperties=my_font)
plt.ylabel(&quot;次数&quot;,fontproperties=my_font)

# 设置标题
plt.title(&#39;每分钟跳动次数&#39;,fontproperties=my_font,color=&#39;green&#39;)

plt.show()
</code></pre>

<p><img src="media/15822327223959/output140.png" alt="png"/></p>

<h3 id="toc_13">一图多线</h3>

<pre><code class="language-python">y1 = [1,0,1,1,2,4,3,4,4,5,6,5,4,3,3,1,1,1,1,1]
y2 = [1,0,3,1,2,2,3,4,3,2,1,2,1,1,1,1,1,1,1,1]
 
x = range(11,31) # # 设置图形
plt.figure(figsize=(20,8),dpi=80) 
&#39;&#39;&#39;
添加图例:label 对线的解释，然后用plt.legend添加到图片上;
添加颜色: color=&#39;red&#39;
线条风格： linestyle=&#39;-&#39;;    - 实线 、 -- 虚线，破折线、 -. 点划线、 : 点虚线，虚线、 &#39;&#39; 留空或空格线条粗细： linewidth = 5
透明度：    alpha=0.5
&#39;&#39;&#39;
plt.plot(x,y1,color=&#39;red&#39;,label=&#39;自己&#39;)
plt.plot(x,y2,color=&#39;blue&#39;,label=&#39;同事&#39;)
# 设置x轴刻度
xtick_labels = [&#39;{}岁&#39;.format(i) for i in x]
my_font = font_manager.FontProperties(fname=r&quot;C:/Windows/Fonts/msyh.ttc&quot;,size=16) 
plt.xticks(x,xtick_labels,fontproperties=my_font,rotation=45)
# 绘制网格（网格也是可以设置线的样式)
#alpha=0.4 设置透明度
plt.grid(alpha=0.4)

# 添加图例(注意：只有在这里需要添加prop参数是显示中文，其他的都用fontproperties)
# 设置位置loc : upper left、 lower left、 center left、 upper center
plt.legend(prop=my_font,loc=&#39;upper right&#39;)

#展示
plt.show()

</code></pre>

<p><img src="media/15822327223959/output160.png" alt="png"/></p>

<h3 id="toc_14">拓展（一图多个坐标系子图）</h3>

<pre><code class="language-python">import matplotlib.pyplot as plt 
import numpy as np

x = np.arange(1, 100)
#划分子图
fig,axes=plt.subplots(2,2)
ax1=axes[0,0]
ax2=axes[0,1] 
ax3=axes[1,0] 
ax4=axes[1,1]

fig=plt.figure(figsize=(20,10),dpi=80)
# 作 图 1 
ax1.plot(x, x)
#作图2
ax2.plot(x, -x)
#作图3
ax3.plot(x, x ** 2)
# ax3.grid(color=&#39;r&#39;, linestyle=&#39;--&#39;, linewidth=1,alpha=0.3)
#作图4
ax4.plot(x, np.log(x)) 
plt.show()
</code></pre>

<p><img src="media/15822327223959/output180.png" alt="png"/></p>

<pre><code class="language-text">&lt;Figure size 1600x800 with 0 Axes&gt;
</code></pre>

<pre><code class="language-python"># add_subplot方法 给figure新增子图
import numpy as np
import matplotlib.pyplot as plt 
x = np.arange(0,100)
#新建figure对象
fig=plt.figure(figsize=(20,10),dpi=80)
# 新 建 子 图 1 
ax1=fig.add_subplot(2,2,1)
ax1.plot(x, x)
# 新 建 子 图 2 
ax3=fig.add_subplot(2,2,2)
ax3.plot(x, x ** 2)
ax3.grid(color=&#39;r&#39;, linestyle=&#39;--&#39;, linewidth=1,alpha=0.3)
# 新 建 子 图 3 
ax4=fig.add_subplot(2,2,3)
ax4.plot(x, np.log(x)) 
plt.show()
</code></pre>

<pre><code class="language-text">E:\anaconda\lib\site-packages\ipykernel_launcher.py:16: RuntimeWarning: divide by zero encountered in log
  app.launch_new_instance()
</code></pre>

<p><img src="media/15822327223959/output191.png" alt="png"/></p>

<h2 id="toc_15">绘制散点图</h2>

<p><strong>题干</strong>:3月份每天最高气温</p>

<p>a = [11,17,16,11,12,11,12,6,6,7,8,9,12,15,14,17,18,21,16,17,20,14,15,15,15,19,21,22,22,22,23] </p>

<pre><code class="language-python">from matplotlib import pyplot as plt 
from matplotlib import font_manager
y = [11,17,16,11,12,11,12,6,6,7,8,9,12,15,14,17,18,21,16,17,20,14,15,15,15,19,21,22,22,22,23]
x = range(1,32)#3月份31天

# 设置图形大小
plt.figure(figsize=(20,8),dpi=80)

# 使用scatter绘制散点图
plt.scatter(x,y,label= &#39;3月份&#39;)

# 调整x轴的刻度
my_font = font_manager.FontProperties(fname=r&quot;C:/Windows/Fonts/msyh.ttc&quot;,size=10)

_xticks_labels = [&#39;3 月 {} 日 &#39;.format(i) for i in x] 
plt.xticks(x[::3],_xticks_labels[::3],fontproperties=my_font,rotation=45)
plt.xlabel(&#39;日期&#39;,fontproperties=my_font)
plt.ylabel(&#39;温度&#39;,fontproperties=my_font)
# 图 例
plt.legend(prop=my_font) 
plt.show()
</code></pre>

<p><img src="media/15822327223959/output210.png" alt="png"/></p>

<h2 id="toc_16">绘制条形图</h2>

<p>假设你获取到了2019年内地电影票房前20的电影（列表a)和电影票房数据（列表b)，请展示该数据</p>

<p>a = [&#39;流浪地球&#39;,&#39;疯狂的外星人&#39;,&#39;飞驰人生&#39;,&#39;大黄蜂&#39;,&#39;熊出没·原始时代&#39;,&#39;新喜剧之王&#39;]</p>

<p>b = [&#39;38.13&#39;,&#39;19.85&#39;,&#39;14.89&#39;,&#39;11.36&#39;,&#39;6.47&#39;,&#39;5.93&#39;] </p>

<pre><code class="language-python">from matplotlib import pyplot as plt 
from matplotlib import font_manager

my_font = font_manager.FontProperties(fname=r&quot;C:/Windows/Fonts/msyh.ttc&quot;,size=10) 

a = [&#39;流浪地球&#39;,&#39;疯狂的外星人&#39;,&#39;飞驰人生&#39;,&#39;大黄蜂&#39;,&#39;熊出没·原始时代&#39;,&#39;新喜剧之王&#39;]
b = [38.13,19.85,14.89,11.36,6.47,5.93]

plt.figure(figsize=(20,8),dpi=80)#确定图形大小
 
# 绘制条形图的方法
&#39;&#39;&#39;
width=0.3   条形的宽度
&#39;&#39;&#39;
rects = plt.bar(range(len(a)),b,width=0.3,color=&#39;g&#39;) 
plt.xticks(range(len(a)),a,fontproperties=my_font,rotation=45)
# 在条形图上加标注(水平居中) 
for rect in rects:
    height = rect.get_height()
    
plt.text(rect.get_x() + rect.get_width() / 2, height+0.3, str(height),ha=&quot;center&quot;) 
plt.show()

</code></pre>

<p><img src="media/15822327223959/output230.png" alt="png"/></p>

<h2 id="toc_17">直方图</h2>

<p>现有250部电影的时长，希望统计出这些电影时长的分布状态(比如时长为100分钟到120分钟电影的数量，出现的频率)等信息，你应该如何呈现这些数据？</p>

<pre><code class="language-python">from matplotlib import pyplot as plt 
from matplotlib import font_manager
# 1）准备数据
time = [131,98,125,131,124,139,131, 117, 128, 108, 135, 138, 131, 102, 107, 114,
119,128,121,142,127,130,124, 101, 110, 116, 117, 110, 128, 128, 115,99,
136,126,134,95,138,117,111,78, 132, 124, 113, 150, 110, 117,86,95, 144,
105, 126, 130,126, 130, 126, 116, 123, 106, 112, 138, 123,86, 101,99, 136,123,
117,119,105,137, 123, 128, 125, 104, 109, 134, 125, 127,105, 120,107,129, 116,
108,132,103,136, 118, 102, 120, 114,105, 115, 132, 145, 119, 121,112,139, 125,
138,109,132,134,156, 106, 117, 127, 144, 139, 139, 119, 140,83,110,102,123,
107,143,115,136, 118, 139, 123, 112, 118, 125, 109, 119, 133,112,114,122, 109,
106,123,116,131,127, 115, 118, 112, 135,115,146,137,116,103,144,83,123,
111,110,111,100,154,136, 100, 118, 119, 133,134,106,129,126,110,111,109,
141,120, 117, 106, 149, 122, 122, 110, 118, 127, 121, 114, 125, 126,114, 140, 103,
130,141, 117, 106, 114, 121, 114, 133, 137,92,121,112,146,97,137, 105,98,
117,112,81,97, 139, 113,134, 106, 144, 110, 137,137,111,104,117, 100, 111,
101,110,105, 129, 137, 112, 120, 113, 133, 112,83,94,146,133,101,131, 116,
111,84, 137, 115, 122, 106, 144, 109, 123, 116, 111,111, 133, 150]

my_font = font_manager.FontProperties(fname=r&quot;C:/Windows/Fonts/msyh.ttc&quot;,size=10)  
# 2）创建画布
plt.figure(figsize=(20, 8), dpi=100) 

# 3）绘制直方图
# 设置组距
distance = 2
# 计算组数
group_num = int((max(time) - min(time)) / distance)
# 绘制直方图
plt.hist(time, bins=group_num)

# 修改x轴刻度显示
plt.xticks(range(min(time), max(time))[::2])

# 添加网格显示
plt.grid(linestyle=&quot;--&quot;, alpha=0.5)

# 添加x, y轴描述信息
plt.xlabel(&quot;电影时长大小&quot;,fontproperties=my_font)
plt.ylabel(&quot;电影的数据量&quot;,fontproperties=my_font)

# 4）显示图像
plt.show()
</code></pre>

<p><img src="media/15822327223959/output250.png" alt="png"/></p>

<h2 id="toc_18">饼状图</h2>

<pre><code class="language-python">import matplotlib.pyplot as plt
import matplotlib
from matplotlib import font_manager
my_font = font_manager.FontProperties(fname=r&quot;C:/Windows/Fonts/msyh.ttc&quot;,size=10)

#正常显示中文的方法
plt.rcParams[&#39;font.sans-serif&#39;]=[&#39;SimHei&#39;]



label_list = [&quot;第一部分&quot;, &quot;第二部分&quot;, &quot;第三部分&quot;]   # 各部分标签
size = [55, 35, 10] # 各部分大小
color = [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;]    # 各部分颜色
explode = [0, 0.05, 0]  # 各部分突出值
&quot;&quot;&quot;
绘制饼图
explode：设置各部分突出
label:设置各部分标签
labeldistance:设置标签文本距圆心位置，1.1表示1.1倍半径autopct：设置圆里面文本
shadow：设置是否有阴影
startangle：起始角度，默认从0开始逆时针转pctdistance：设置圆内文本距圆心距离
返回值
l_text：圆内部文本，matplotlib.text.Text object
p_text：圆外部文本
&quot;&quot;&quot;
patches, l_text, p_text = plt.pie(size,
                                  explode=explode, 
                                  colors=color, 
                                  labels=label_list, 
                                  labeldistance=1.1, 
                                  autopct=&quot;%1.1f%%&quot;, 
                                  shadow=False, 
                                  startangle=90, 
                                  pctdistance=0.6)


plt.axis(&quot;equal&quot;)   # 设置横轴和纵轴大小相等，这样饼才是圆的
plt.legend() 
plt.show()

</code></pre>

<p><img src="media/15822327223959/output270.png" alt="png"/></p>

                        
                      </div>
                  </div>
                </a>
                <div class="read-more clearfix">
                  <div class="more-left left">
                  
                    <span class="date">2020/02/21</span>
                    <span>posted in&nbsp;</span> 
          				  
          					    <span class="posted-in"><a href='%E5%B8%B8%E7%94%A8%E5%BA%93.html'>常用库</a></span>
          				   
                    

                  </div>
                  <div class="more-right right">
                  <span class="comments">
                      

                       
                  </span>
                  </div>
                </div>
              </div><!-- article -->
        
              


			<div class="row">
			  <div class="large-6 columns">
			  <p class="text-left" style="padding-top:25px;">
			   <a href="python_1.html">&laquo; Prev Page</a>  
			  </p>
			  </div>
			  <div class="large-6 columns">
			<p class="text-right" style="padding-top:25px;">
			 <a href="python_3.html">&raquo; Next Page</a> 
			</p>
			  </div>
			</div>
		</div>
	</div><!-- large 8 -->

 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
      

             

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>分类目录</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90.html"><strong>数据分析</strong></a>
        
            <a href="ML&DL.html"><strong>ML&DL</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>最近文章</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="15822402376673.html">2.2 补充梯度下降理解</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15822402376778.html">1.1 机器学习</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15822394457187.html">淘宝用户行为分析</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15822375587081.html">4. excel常见函数</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15822373698224.html">1. 认识excel</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>

              <div id="site-categories" class="side-item">
              <div class="side-header">
                <h2>联系我</h2>
              </div>
            </div>

            <div id="site-info" class="site-info">
              
               
                <!--
                     <h1>Ryanhuo</h1> 
                     <div class="site-des">My Blog 2.0</div>-->
                <div class="social">
     
     
     
     
     
     
     
     
     
     <a target="_blank" class="github" target="_blank" href="https://github.com/Ryanhuo" title="GitHub">GitHub</a>
     <a target="_blank" class="email" href="mailto:ryan97916@outlook.com" title="Email">Email</a>
       <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
       
      </div>
       <div class="social">  
                <img src="asset/img/公众号.jpg" alt="公众号二维码">
              </div>
              </div>

            
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2020
Powered by <a target="_blank" href="http://ryanhuo.github.io">Ryan</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>



  














<style type="text/css">
figure{margin: 0;padding: 0;}
figcaption{text-align:center;}

/* PrismJS 1.14.0
 http://prismjs.com/download.html#themes=prism&languages=markup+css+clike+javascript */
/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
    color: black;
    background: none;
    text-shadow: 0 1px white;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;
    
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
    
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
    text-shadow: none;
    background:#b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
    text-shadow: none;
    background: #b3d4fc;
}

@media print {
    code[class*="language-"],
    pre[class*="language-"] {
        text-shadow: none;
    }
}

/* Code blocks */
pre[class*="language-"] {
    padding: 1em;
    margin: .5em 0;
    overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
    background: #F7F7F7;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
    padding: .1em;
    border-radius: .3em;
    white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
    color: slategray;
}

.token.punctuation {
    color: #999;
}

.namespace {
    opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
    color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
    color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
    color: #9a6e3a;
    background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
    color: #07a;
}

.token.function,
.token.class-name {
    color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
    color: #e90;
}

.token.important,
.token.bold {
    font-weight: bold;
}
.token.italic {
    font-style: italic;
}

.token.entity {
    cursor: help;
}


pre[class*="language-"].line-numbers {
    position: relative;
    padding-left: 3.8em;
    counter-reset: linenumber;
}

pre[class*="language-"].line-numbers > code {
    position: relative;
    white-space: inherit;
}

.line-numbers .line-numbers-rows {
    position: absolute;
    pointer-events: none;
    top: 0;
    font-size: 100%;
    left: -3.8em;
    width: 3em; /* works for line-numbers below 1000 lines */
    letter-spacing: -1px;
    border-right: 1px solid #999;

    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;

}

    .line-numbers-rows > span {
        pointer-events: none;
        display: block;
        counter-increment: linenumber;
    }

        .line-numbers-rows > span:before {
            content: counter(linenumber);
            color: #999;
            display: block;
            padding-right: 0.8em;
            text-align: right;
        }

</style>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>



  </body>
</html>
