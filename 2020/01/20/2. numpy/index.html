<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
    2. numpy |  Ryan
  </title>
  <meta name="generator" content="hexo-theme-yilia-plus">
  
  <link rel="shortcut icon" href="/huo.ico" />
  
  
<link rel="stylesheet" href="/css/style.css">

  
<script src="/js/pace.min.js"></script>


  

  

</head>

</html>

<body>
  <div id="app">
    <main class="content">
      <section class="outer">
  <article id="post-2. numpy" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  2. numpy
</h1>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2020/01/20/2.%20numpy/" class="article-date">
  <time datetime="2020-01-20T07:29:03.675Z" itemprop="datePublished">2020-01-20</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/data-analytics/">data analytics</a>
  </div>

      
      
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> 字数统计:</span>
            <span class="post-count">6.2k字</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> 阅读时长≈</span>
            <span class="post-count">28分钟</span>
        </span>
    </span>
</div>

      
    </div>
    

    
    
    <div class="tocbot"></div>





    

    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h1 id="2-numpy"><a href="#2-numpy" class="headerlink" title="2. numpy"></a>2. numpy</h1><h2 id="NumPy介绍"><a href="#NumPy介绍" class="headerlink" title="NumPy介绍"></a>NumPy介绍</h2><p>Numpy（Numerical Python）是一个开源的Python科学计算库，用于快速处理任意维度的数组。<br>Numpy支持常见的数组和矩阵操作。对于同样的数值计算任务，使用Numpy比直接使用Python要简洁的多。<br>Numpy使用ndarray对象来处理多维数组，该对象是一个快速而灵活的大数据容器。</p>
<h2 id="NumPy优点"><a href="#NumPy优点" class="headerlink" title="NumPy优点"></a>NumPy优点</h2><ol>
<li>快速</li>
<li>方便</li>
<li>科学计算的基础库</li>
</ol>
<ul>
<li>对于同样的数值计算任务，使用NumPy要比直接编写Python代码便捷得多；</li>
<li>NumPy中的数组的存储效率和输入输出性能均远远优于Python中等价的基本数据结构，且其能够提升的性能是   与数组中的元素成比例的；</li>
<li>NumPy的大部分代码都是用C语言写的，其底层算法在设计时就有着优异的性能，这使得NumPy比纯Python代  码高效得多</li>
</ul>
<a id="more"></a>

<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install numpy</span><br></pre></td></tr></table></figure>

<h2 id="与原生list运算效率对比"><a href="#与原生list运算效率对比" class="headerlink" title="与原生list运算效率对比"></a>与原生list运算效率对比</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random </span><br><span class="line"><span class="keyword">import</span> time </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100000000</span>): </span><br><span class="line">    a.append(random.random())</span><br><span class="line">t1 = time.time() </span><br><span class="line">sum1=sum(a) </span><br><span class="line">t2=time.time()</span><br><span class="line"></span><br><span class="line">b=np.array(a) </span><br><span class="line">t4=time.time() </span><br><span class="line">sum3=np.sum(b) </span><br><span class="line">t5=time.time() </span><br><span class="line"></span><br><span class="line">print(t2-t1, t5-t4)</span><br></pre></td></tr></table></figure>

<pre><code>45.5947265625 2.542968988418579</code></pre><h2 id="NumPy-的Ndarray-对象"><a href="#NumPy-的Ndarray-对象" class="headerlink" title="NumPy 的Ndarray 对象"></a>NumPy 的Ndarray 对象</h2><p> NumPy 最重要的一个特点是其 N 维数组对象 ndarray，它是一系列同类型数据的集合，以 0 下标为开始进行集合中元素的索引。ndarray 对象是用于存放同类型元素的多维数组。</p>
<h3 id="创建一维数组"><a href="#创建一维数组" class="headerlink" title="创建一维数组"></a>创建一维数组</h3><p>多种样式创建一维数组</p>
<h4 id="直接传入列表"><a href="#直接传入列表" class="headerlink" title="直接传入列表"></a>直接传入列表</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">list=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">Array_1=np.array(list)</span><br><span class="line">print(Array_1,type(Array_1))</span><br></pre></td></tr></table></figure>

<pre><code>[1 2 3 4] &lt;class &apos;numpy.ndarray&apos;&gt;</code></pre><h4 id="传入range生成序列"><a href="#传入range生成序列" class="headerlink" title="传入range生成序列"></a>传入range生成序列</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Array_2=np.array(range(<span class="number">1</span>,<span class="number">10</span>))</span><br><span class="line">print(Array_2,type(Array_2))</span><br></pre></td></tr></table></figure>

<pre><code>[1 2 3 4 5 6 7 8 9] &lt;class &apos;numpy.ndarray&apos;&gt;</code></pre><h4 id="利用numpy自带的np-arange（）"><a href="#利用numpy自带的np-arange（）" class="headerlink" title="利用numpy自带的np.arange（）"></a>利用numpy自带的np.arange（）</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Array_3=np.arange(<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line">print(Array_3,type(Array_3))</span><br></pre></td></tr></table></figure>

<pre><code>[1 2 3 4 5 6 7 8 9] &lt;class &apos;numpy.ndarray&apos;&gt;</code></pre><h2 id="创建二维数组"><a href="#创建二维数组" class="headerlink" title="创建二维数组"></a>创建二维数组</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">list2=[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]]</span><br><span class="line"></span><br><span class="line">t1=np.array(list2)</span><br><span class="line">print(t1,type(t1))</span><br></pre></td></tr></table></figure>

<pre><code>[[1 2 3]
 [4 5 6]
 [7 8 9]] &lt;class &apos;numpy.ndarray&apos;&gt;</code></pre><h3 id="常用属性"><a href="#常用属性" class="headerlink" title="常用属性"></a>常用属性</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取数组的维度（与函数的参数相似）</span></span><br><span class="line">print(t1.ndim)</span><br></pre></td></tr></table></figure>

<pre><code>2</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#形状(行，列)</span></span><br><span class="line">print(t1.shape)</span><br></pre></td></tr></table></figure>

<pre><code>(3, 3)</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#元素个数</span></span><br><span class="line">print(t1.size)</span><br></pre></td></tr></table></figure>

<pre><code>9</code></pre><h3 id="调整数组的形状"><a href="#调整数组的形状" class="headerlink" title="调整数组的形状"></a>调整数组的形状</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">t2= np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line"><span class="comment"># 修改的是原有的four.shape = (3,2)</span></span><br><span class="line">print(t2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 返回一个新的数组</span></span><br><span class="line">t2 = t2.reshape(<span class="number">3</span>,<span class="number">2</span>) </span><br><span class="line">print(t2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将多维变成一维数组</span></span><br><span class="line">t3= t2.reshape((<span class="number">6</span>,),order=<span class="string">'F'</span>)</span><br><span class="line"><span class="comment"># 默认情况下‘C’以行为主的顺序展开，‘F’（Fortran风格）意味着以列的顺序展开</span></span><br><span class="line"></span><br><span class="line">t4 = t2.flatten(order=<span class="string">'F'</span>) </span><br><span class="line">print(t3)</span><br><span class="line">print(t4)</span><br></pre></td></tr></table></figure>

<pre><code>[[1 2 3]
 [4 5 6]]
[[1 2]
 [3 4]
 [5 6]]
[1 3 5 2 4 6]
[1 3 5 2 4 6]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拓展：数组的形状</span></span><br><span class="line">t = np.arange(<span class="number">24</span>)</span><br><span class="line">print(t) </span><br><span class="line">print(t.shape)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 转换成二维</span></span><br><span class="line">t1 = t.reshape((<span class="number">4</span>,<span class="number">6</span>))</span><br><span class="line">print(t1) </span><br><span class="line">print(t1.shape)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 转成三维</span></span><br><span class="line">t2 = t.reshape((<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)) </span><br><span class="line">print(t2) </span><br><span class="line">print(t2.shape)</span><br></pre></td></tr></table></figure>

<pre><code>[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23]
(24,)
[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
(4, 6)
[[[ 0  1  2  3]
  [ 4  5  6  7]
  [ 8  9 10 11]]

 [[12 13 14 15]
  [16 17 18 19]
  [20 21 22 23]]]
(2, 3, 4)</code></pre><h3 id="将数组转成list"><a href="#将数组转成list" class="headerlink" title="将数组转成list"></a>将数组转成list</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a= np.array([<span class="number">9</span>, <span class="number">12</span>, <span class="number">88</span>, <span class="number">14</span>, <span class="number">25</span>])</span><br><span class="line">list_a = a.tolist() </span><br><span class="line">print(list_a) </span><br><span class="line">print(type(list_a))</span><br></pre></td></tr></table></figure>

<pre><code>[9, 12, 88, 14, 25]
&lt;class &apos;list&apos;&gt;</code></pre><h2 id="NumPy的数据类型"><a href="#NumPy的数据类型" class="headerlink" title="NumPy的数据类型"></a>NumPy的数据类型</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>], dtype = np.int16)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 返回数组中每个元素的字节单位长度</span></span><br><span class="line">print(f.itemsize) <span class="comment"># 1 np.int8(一个字节)</span></span><br></pre></td></tr></table></figure>

<pre><code>2</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取数据类型</span></span><br><span class="line">print(f.dtype)</span><br></pre></td></tr></table></figure>

<pre><code>int16</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 调整数据类型</span></span><br><span class="line">f1 = f.astype(np.int64) </span><br><span class="line">print(f1.dtype)</span><br></pre></td></tr></table></figure>

<pre><code>int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拓展随机生成小数</span></span><br><span class="line"><span class="comment"># 使用python语法，保留两位</span></span><br><span class="line">print(round(random.random(),<span class="number">2</span>))</span><br><span class="line"></span><br><span class="line">arr = np.array([random.random() <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>)])</span><br><span class="line"><span class="comment"># 取小数点后两位</span></span><br><span class="line">print(np.round(arr,<span class="number">2</span>))</span><br></pre></td></tr></table></figure>

<pre><code>0.02
[0.29 0.82 0.01 0.23 0.89 0.46 0.44 0.4  0.58 0.17]</code></pre><table>
<thead>
<tr>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>bool</td>
<td>用一个字节存储的布尔类型（True或False）</td>
</tr>
<tr>
<td>inti</td>
<td>由所在平台决定其大小的整数（一般为int32或int64）</td>
</tr>
<tr>
<td>int8</td>
<td>一个字节大小，-128 至 127</td>
</tr>
<tr>
<td>int16</td>
<td>整数，-32768 至 32767</td>
</tr>
<tr>
<td>int32</td>
<td>整数，-2 ** 31 至 2 ** 32 -1</td>
</tr>
<tr>
<td>int64</td>
<td>整数，-2 ** 63 至 2 ** 63 - 1</td>
</tr>
<tr>
<td>uint8</td>
<td>无符号整数，0 至 255</td>
</tr>
<tr>
<td>uint16</td>
<td>无符号整数，0 至 65535</td>
</tr>
<tr>
<td>uint32</td>
<td>无符号整数，0 至 2 ** 32 - 1</td>
</tr>
<tr>
<td>uint64</td>
<td>无符号整数，0 至 2 ** 64 - 1</td>
</tr>
<tr>
<td>float16</td>
<td>半精度浮点数：16位，正负号1位，指数5位，精度10位</td>
</tr>
<tr>
<td>float32</td>
<td>单精度浮点数：32位，正负号1位，指数8位，精度23位</td>
</tr>
<tr>
<td>float64或float</td>
<td>双精度浮点数：64位，正负号1位，指数11位，精度52位</td>
</tr>
<tr>
<td>complex64</td>
<td>复数，分别用两个32位浮点数表示实部和虚部</td>
</tr>
<tr>
<td>complex128或complex</td>
<td>复数，分别用两个64位浮点数表示实部和虚部</td>
</tr>
</tbody></table>
<h2 id="数组的计算"><a href="#数组的计算" class="headerlink" title="数组的计算"></a>数组的计算</h2><h3 id="数组和数的计算"><a href="#数组和数的计算" class="headerlink" title="数组和数的计算"></a>数组和数的计算</h3><p>由于numpy的广播机机制在运算过程中，加减乘除的值被广播到所有的元素上面。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">t1 = np.arange(<span class="number">24</span>).reshape((<span class="number">6</span>,<span class="number">4</span>)) </span><br><span class="line">print(t1+<span class="number">2</span>)</span><br><span class="line">print(t1*<span class="number">2</span>) </span><br><span class="line">print(t1/<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<pre><code>[[ 2  3  4  5]
 [ 6  7  8  9]
 [10 11 12 13]
 [14 15 16 17]
 [18 19 20 21]
 [22 23 24 25]]
[[ 0  2  4  6]
 [ 8 10 12 14]
 [16 18 20 22]
 [24 26 28 30]
 [32 34 36 38]
 [40 42 44 46]]
[[ 0.   0.5  1.   1.5]
 [ 2.   2.5  3.   3.5]
 [ 4.   4.5  5.   5.5]
 [ 6.   6.5  7.   7.5]
 [ 8.   8.5  9.   9.5]
 [10.  10.5 11.  11.5]]</code></pre><h3 id="数组与数组之间的操作"><a href="#数组与数组之间的操作" class="headerlink" title="数组与数组之间的操作"></a>数组与数组之间的操作</h3><p>同种形状的数组(对应位置进行计算操作)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">t1 = np.arange(<span class="number">24</span>).reshape((<span class="number">6</span>,<span class="number">4</span>))</span><br><span class="line">t2 = np.arange(<span class="number">100</span>,<span class="number">124</span>).reshape((<span class="number">6</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line">print(t1+t2) </span><br><span class="line">print(t1*t2)</span><br></pre></td></tr></table></figure>

<pre><code>[[100 102 104 106]
 [108 110 112 114]
 [116 118 120 122]
 [124 126 128 130]
 [132 134 136 138]
 [140 142 144 146]]
[[   0  101  204  309]
 [ 416  525  636  749]
 [ 864  981 1100 1221]
 [1344 1469 1596 1725]
 [1856 1989 2124 2261]
 [2400 2541 2684 2829]]</code></pre><p>不种形状的多维数组不能计算</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">t1 = np.arange(<span class="number">24</span>).reshape((<span class="number">4</span>,<span class="number">6</span>)) </span><br><span class="line">t2 = np.arange(<span class="number">18</span>).reshape((<span class="number">3</span>,<span class="number">6</span>)) </span><br><span class="line">print(t1)</span><br><span class="line">print(t2) </span><br><span class="line">print(t1-t2)</span><br></pre></td></tr></table></figure>

<pre><code>[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]]




---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-32-8e6819c2b1e3&gt; in &lt;module&gt;()
      3 print(t1)
      4 print(t2)
----&gt; 5 print(t1-t2)



ValueError: operands could not be broadcast together with shapes (4,6) (3,6) </code></pre><p>行数或者列数相同的一维数组和多维数组可以进行计算： </p>
<p>行形状相同（会与每一行数组的对应位相操作)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">t1 = np.arange(<span class="number">24</span>).reshape((<span class="number">4</span>,<span class="number">6</span>)) </span><br><span class="line">t2 = np.arange(<span class="number">0</span>,<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">print(t1-t2)</span><br></pre></td></tr></table></figure>

<pre><code>[[ 0  0  0  0  0  0]
 [ 6  6  6  6  6  6]
 [12 12 12 12 12 12]
 [18 18 18 18 18 18]]</code></pre><p>列形状相同（会与每一个相同维度的数组的对应位相操作)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">t1 = np.arange(<span class="number">24</span>).reshape((<span class="number">4</span>,<span class="number">6</span>)) </span><br><span class="line">t2 = np.arange(<span class="number">4</span>).reshape((<span class="number">4</span>,<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line">print(t1-t2)</span><br></pre></td></tr></table></figure>

<pre><code>[[ 0  1  2  3  4  5]
 [ 5  6  7  8  9 10]
 [10 11 12 13 14 15]
 [15 16 17 18 19 20]]</code></pre><h2 id="数组中的轴"><a href="#数组中的轴" class="headerlink" title="数组中的轴"></a>数组中的轴</h2><ol>
<li><p>什么是轴： 在numpy中可以理解为方向，使用0，1，2数字表示，对于一个一维数组，只有一个0轴， 对于2维数组（shape（2，2))有0轴和1轴， 对于3维数组（shape（2，2，3））有0，1，2轴</p>
</li>
<li><p>为什么要学习轴：有了轴的概念后，我们计算会更加方便，比如计算一个2维数组的平均值，必须指定是计算哪个方向上面的数字的平均值。</p>
</li>
</ol>
<p><img src="/2020/01/20/2.%20numpy/20191127155610-1577075803629.png" alt="20191127155610"></p>
<p><img src="/2020/01/20/2.%20numpy/20191127155642-1577075815036.png" alt="20191127155642"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line"></span><br><span class="line">print(np.sum(a,axis=<span class="number">0</span>)) <span class="comment"># [5 7 9]</span></span><br><span class="line"></span><br><span class="line">print(np.sum(a,axis = <span class="number">1</span>)) <span class="comment"># [ 6 15]</span></span><br><span class="line"></span><br><span class="line">print(np.sum(a))<span class="comment"># 计算所有的值的和</span></span><br></pre></td></tr></table></figure>

<pre><code>[5 7 9]
[ 6 15]
21</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#三维的数据</span></span><br><span class="line">a = np.arange(<span class="number">27</span>).reshape((<span class="number">3</span>,<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>

<pre><code>[[[ 0  1  2]
  [ 3  4  5]
  [ 6  7  8]]

 [[ 9 10 11]
  [12 13 14]
  [15 16 17]]

 [[18 19 20]
  [21 22 23]
  [24 25 26]]]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">b = np.sum(a, axis=<span class="number">0</span>)</span><br><span class="line">print(b)</span><br></pre></td></tr></table></figure>

<pre><code>[[27 30 33]
 [36 39 42]
 [45 48 51]]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c = np.sum(a, axis=<span class="number">1</span>)</span><br><span class="line">print(c)</span><br></pre></td></tr></table></figure>

<pre><code>[[ 9 12 15]
 [36 39 42]
 [63 66 69]]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c = np.sum(a, axis=<span class="number">2</span>)</span><br><span class="line">print(c)</span><br></pre></td></tr></table></figure>

<pre><code>[[ 3 12 21]
 [30 39 48]
 [57 66 75]]</code></pre><p><strong>总结：</strong>在计算的时候可以想象成是每一个坐标轴，分别计算这个轴上面的每一个刻度上的值，或者在二维数组中记住0表示列1表示行.</p>
<h2 id="数组的索引和切片"><a href="#数组的索引和切片" class="headerlink" title="数组的索引和切片"></a>数组的索引和切片</h2><p>一维数组的操作方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">10</span>)</span><br><span class="line"><span class="comment"># 冒号分隔切片参数 start:stop:step 来进行切片操作</span></span><br><span class="line"></span><br><span class="line">print(a[<span class="number">2</span>:<span class="number">7</span>:<span class="number">2</span>])<span class="comment"># 从索引 2 开始到索引 7 停止，间隔为 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果只放置一个参数，如 [2]，将返回与该索引相对应的单个元素</span></span><br><span class="line">print(a[<span class="number">2</span>],a)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果为 [2:]，表示从该索引开始以后的所有项都将被提取</span></span><br><span class="line">print(a[<span class="number">2</span>:])</span><br></pre></td></tr></table></figure>

<pre><code>[2 4 6]
2 [0 1 2 3 4 5 6 7 8 9]
[2 3 4 5 6 7 8 9]</code></pre><p>多维数组的操作方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">t1 = np.arange(<span class="number">24</span>).reshape(<span class="number">4</span>,<span class="number">6</span>) </span><br><span class="line">print(t1)</span><br><span class="line">print(<span class="string">'*'</span>*<span class="number">20</span>)</span><br><span class="line">print(t1[<span class="number">1</span>]) <span class="comment"># 取一行(一行代表是一条数据，索引也是从0开始的) </span></span><br><span class="line">print(t1[<span class="number">1</span>,:]) <span class="comment"># 取一行</span></span><br><span class="line"></span><br><span class="line">print(t1[<span class="number">1</span>:])<span class="comment"># 取连续的多行</span></span><br><span class="line">print(t1[<span class="number">1</span>:<span class="number">3</span>,:])<span class="comment"># 取连续的多行</span></span><br><span class="line"></span><br><span class="line">print(t1[[<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>]])<span class="comment"># 取不连续的多行</span></span><br><span class="line">print(t1[[<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>],:])<span class="comment"># 取不连续的多行</span></span><br><span class="line"></span><br><span class="line">print(t1[:,<span class="number">1</span>])<span class="comment"># 取一列</span></span><br><span class="line">print(t1[:,<span class="number">1</span>:])<span class="comment"># 连续的多列</span></span><br><span class="line">print(t1[:,[<span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>]])<span class="comment"># 取不连续的多列</span></span><br><span class="line">print(t1[<span class="number">2</span>,<span class="number">3</span>])<span class="comment"># # 取某一个值,三行四列</span></span><br><span class="line">print(t1[[<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">1</span>,<span class="number">3</span>]])<span class="comment"># 取多个不连续的值，[[行，行。。。],[列，列。。。]]</span></span><br></pre></td></tr></table></figure>

<pre><code>[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
********************
[ 6  7  8  9 10 11]
[ 6  7  8  9 10 11]
[[ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
[[ 6  7  8  9 10 11]
 [12 13 14 15 16 17]]
[[ 0  1  2  3  4  5]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
[[ 0  1  2  3  4  5]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]
[ 1  7 13 19]
[[ 1  2  3  4  5]
 [ 7  8  9 10 11]
 [13 14 15 16 17]
 [19 20 21 22 23]]
[[ 0  2  3]
 [ 6  8  9]
 [12 14 15]
 [18 20 21]]
15
[0 7 9]</code></pre><h2 id="组中的数值修改"><a href="#组中的数值修改" class="headerlink" title="组中的数值修改"></a>组中的数值修改</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">t = np.arange(<span class="number">24</span>).reshape(<span class="number">4</span>,<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改某一行的值</span></span><br><span class="line">t[<span class="number">1</span>,:]=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改某一列的值</span></span><br><span class="line">t[:,<span class="number">1</span>]=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改连续多行</span></span><br><span class="line">t[<span class="number">1</span>:<span class="number">3</span>,:]=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改连续多列</span></span><br><span class="line">t[:,<span class="number">1</span>:<span class="number">4</span>]=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改多行多列，取第二行到第四行，第三列到第五列</span></span><br><span class="line">t[<span class="number">1</span>:<span class="number">4</span>,<span class="number">2</span>:<span class="number">5</span>]=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改多个不相邻的点</span></span><br><span class="line">t[[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">3</span>]]=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 可以根据条件修改，比如讲小于10的值改掉</span></span><br><span class="line">t[t&lt;<span class="number">10</span>]=<span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用逻辑判断</span></span><br><span class="line"><span class="comment"># np.logical_and	&amp; </span></span><br><span class="line"><span class="comment"># np.logical_or	|</span></span><br><span class="line"><span class="comment"># np.logical_not		~ </span></span><br><span class="line"></span><br><span class="line">t[(t&gt;<span class="number">2</span>)&amp;(t&lt;<span class="number">6</span>)]=<span class="number">0</span>	<span class="comment"># 与</span></span><br><span class="line">t[(t&lt;<span class="number">2</span>)|(t&gt;<span class="number">6</span>)]=<span class="number">0</span>	<span class="comment"># 或</span></span><br><span class="line">t[~(t&gt;<span class="number">6</span>)]=<span class="number">0</span>	<span class="comment"># 非</span></span><br><span class="line">print(t)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 拓 展</span></span><br><span class="line"><span class="comment"># 三目运算（ np.where(condition, x, y)满足条件(condition)，输出x，不满足输出y。)）</span></span><br><span class="line"><span class="comment"># score = np.array([[80,88],[82,81],[75,81]])</span></span><br><span class="line"><span class="comment"># result = np.where(score&gt;80,True,False) </span></span><br><span class="line"><span class="comment"># print(result)</span></span><br></pre></td></tr></table></figure>

<pre><code>[[0 0 0 0 0 0]
 [0 0 0 0 0 0]
 [0 0 0 0 0 0]
 [0 0 0 0 0 0]]</code></pre><h2 id="数组的添加、删除和去重"><a href="#数组的添加、删除和去重" class="headerlink" title="数组的添加、删除和去重"></a>数组的添加、删除和去重</h2><h3 id="数组的添加"><a href="#数组的添加" class="headerlink" title="数组的添加"></a>数组的添加</h3><ol>
<li>numpy.append 函数在数组的末尾添加值。 追加操作会分配整个数组，并把原来的数组复制到新数组中。 此外，输入数组的维度必须匹配否则将生成ValueError。</li>
</ol>
<p><strong>参数说明：</strong></p>
<ul>
<li>arr：输入数组</li>
<li>values：要向arr添加的值，需要和arr形状相同（除了要添加的轴）</li>
<li>axis：默认为 None。当axis无定义时，是横向加成，返回总是为一维数组！当axis有定义的时候，分别为0和1的时候。当</li>
<li>axis有定义的时候，分别为0和1的时候（列数要相同）。当axis为1时，数组是加在右边（行数要相同）。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">' 向 数 组 添 加 元 素 ：'</span>) </span><br><span class="line"><span class="keyword">print</span> (np.append(a, [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>])) </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 0 添加元素：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.append(a, [[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]],axis = <span class="number">0</span>)) </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 1 添加元素：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.append(a, [[<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]],axis = <span class="number">1</span>))</span><br></pre></td></tr></table></figure>

<pre><code>第一个数组：
[[1 2 3]
 [4 5 6]]</code></pre><p>​<br>​     向 数 组 添 加 元 素 ：<br>​    [1 2 3 4 5 6 7 8 9]</p>
<p>​<br>​    沿轴 0 添加元素：<br>​    [[1 2 3]<br>​     [4 5 6]<br>​     [7 8 9]]</p>
<p>​<br>​    沿轴 1 添加元素：<br>​    [[1 2 3 5 5 5]<br>​     [4 5 6 7 8 9]]</p>
<ol start="2">
<li><p>numpy.insert 函数在给定索引之前，沿给定轴在输入数组中插入值。</p>
<p> 如果值的类型转换为要插入，则它与输入数组不同。 插入没有原地的，函数会返回一个新数组。 此外，如果未提供轴，则输入数组会被展开。</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>]])</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>) </span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'未传递 Axis 参数。 在插入之前输入数组会被展开。'</span>) </span><br><span class="line"><span class="keyword">print</span> (np.insert(a,<span class="number">3</span>,[<span class="number">11</span>,<span class="number">12</span>]))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'传递了 Axis 参数。 会广播值数组来配输入数组。'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴  0 广播：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.insert(a,<span class="number">1</span>,[<span class="number">11</span>],axis = <span class="number">0</span>)) </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴  1 广播：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.insert(a,<span class="number">1</span>,<span class="number">11</span>,axis = <span class="number">1</span>))</span><br></pre></td></tr></table></figure>

<pre><code>第一个数组：
[[1 2]
 [3 4]
 [5 6]]</code></pre><p>​<br>​    未传递 Axis 参数。 在插入之前输入数组会被展开。<br>​    [ 1  2  3 11 12  4  5  6]</p>
<p>​<br>​    传递了 Axis 参数。 会广播值数组来配输入数组。<br>​    沿轴  0 广播：<br>​    [[ 1  2]<br>​     [11 11]<br>​     [ 3  4]<br>​     [ 5  6]]</p>
<p>​<br>​    沿轴  1 广播：<br>​    [[ 1 11  2]<br>​     [ 3 11  4]<br>​     [ 5 11  6]]</p>
<h3 id="数组中的删除"><a href="#数组中的删除" class="headerlink" title="数组中的删除"></a>数组中的删除</h3><p>numpy.delete 函数返回从输入数组中删除指定子数组的新数组。 与 insert() 函数的情况一样，如果未提供轴参数， 则输入数组将展开。</p>
<p><strong>参数说明：</strong></p>
<ul>
<li><p>arr： 输入数组  </p>
</li>
<li><p>obj：可以被切片，整数或者整数数组，表明要从输入数组删除的子数组</p>
</li>
<li><p>axis：沿着它删除给定子数组的轴，如果未提供，则输入数组会被展开</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'未传递 Axis 参数。 在删除之前输入数组会被展开。'</span>) </span><br><span class="line"><span class="keyword">print</span> (np.delete(a,<span class="number">5</span>))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'删除每一行中的第二列：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.delete(a,<span class="number">1</span>,axis = <span class="number">1</span>)) </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br></pre></td></tr></table></figure>

<pre><code>第一个数组：
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]</code></pre><p>​<br>​    未传递 Axis 参数。 在删除之前输入数组会被展开。<br>​    [ 0  1  2  3  4  6  7  8  9 10 11]</p>
<p>​<br>​    删除每一行中的第二列：<br>​    [[ 0  2  3]<br>​     [ 4  6  7]<br>​     [ 8 10 11]]</p>
<p>​<br>​    </p>
<h3 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h3><p>numpy.unique 函数用于去除数组中的重复元素。</p>
<ul>
<li>arr：输入数组 ，如果不是一维数组则会展开                         * return_index：如果为true，返回新列表元素在旧列表中的位置（下标），并以列表形式储</li>
<li>return_inverse：如果为true，返回旧列表元素在新列表中的位置（下标），并以列表形式储</li>
<li>return_counts：如果为true，返回去重数组中的元素在原数组中的出现次数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([<span class="number">5</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">7</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">9</span>])</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>) </span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组的去重值：'</span>) </span><br><span class="line">u = np.unique(a)</span><br><span class="line"><span class="keyword">print</span> (u)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'去重数组的索引数组：'</span>)</span><br><span class="line">u,indices = np.unique(a, return_index = <span class="literal">True</span>) </span><br><span class="line"><span class="keyword">print</span> (indices)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'我们可以看到每个和原数组下标对应的数值：'</span>) </span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'去重数组的下标：'</span>)</span><br><span class="line">u,indices = np.unique(a,return_inverse = <span class="literal">True</span>) </span><br><span class="line"><span class="keyword">print</span> (u)</span><br><span class="line"><span class="keyword">print</span> (indices) </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'返回去重元素的重复数量：'</span>)</span><br><span class="line">u,indices = np.unique(a,return_counts = <span class="literal">True</span>) <span class="comment"># print (u)</span></span><br><span class="line"><span class="keyword">print</span> (indices)</span><br></pre></td></tr></table></figure>

<pre><code>第一个数组：
[5 2 6 2 7 5 6 8 2 9]</code></pre><p>​<br>​    第一个数组的去重值：<br>​    [2 5 6 7 8 9]</p>
<p>​<br>​    去重数组的索引数组：<br>​    [1 0 2 4 7 9]</p>
<p>​<br>​    我们可以看到每个和原数组下标对应的数值：<br>​    [5 2 6 2 7 5 6 8 2 9]</p>
<p>​<br>​    去重数组的下标：<br>​    [2 5 6 7 8 9]<br>​    [1 0 2 0 3 1 2 4 0 5]</p>
<p>​<br>​    返回去重元素的重复数量：<br>​    [3 2 2 1 1 1]</p>
<h2 id="numpy的计算"><a href="#numpy的计算" class="headerlink" title="numpy的计算"></a>numpy的计算</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">score = np.array([[<span class="number">80</span>,<span class="number">88</span>],[<span class="number">82</span>,<span class="number">81</span>],[<span class="number">75</span>,<span class="number">81</span>]])</span><br><span class="line">print(score)</span><br></pre></td></tr></table></figure>

<pre><code>[[80 88]
 [82 81]
 [75 81]]</code></pre><h3 id="获取所有数据最大值"><a href="#获取所有数据最大值" class="headerlink" title="获取所有数据最大值"></a>获取所有数据最大值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(np.max(score))</span><br></pre></td></tr></table></figure>

<pre><code>88</code></pre><h3 id="获取某个轴上的数据最大值"><a href="#获取某个轴上的数据最大值" class="headerlink" title="获取某个轴上的数据最大值"></a>获取某个轴上的数据最大值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(np.max(score,axis=<span class="number">0</span>))</span><br></pre></td></tr></table></figure>

<pre><code>[82 88]</code></pre><h3 id="获取最小值"><a href="#获取最小值" class="headerlink" title="获取最小值"></a>获取最小值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(np.min(score))</span><br></pre></td></tr></table></figure>

<pre><code>75</code></pre><h3 id="获取某个轴上最小值"><a href="#获取某个轴上最小值" class="headerlink" title="获取某个轴上最小值"></a>获取某个轴上最小值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(np.min(score,axis=<span class="number">0</span>))</span><br></pre></td></tr></table></figure>

<pre><code>[75 81]</code></pre><h3 id="数据的比较"><a href="#数据的比较" class="headerlink" title="数据的比较"></a>数据的比较</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</span><br><span class="line">print(t1)</span><br></pre></td></tr></table></figure>

<pre><code>[1, 2, 3, 4, 5, 6, 7, 8]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(np.maximum(t1,<span class="number">0</span>)) <span class="comment"># 第一个参数中的每一个数与第二个参数比较返回大的</span></span><br></pre></td></tr></table></figure>

<pre><code>[1 2 3 4 5 6 7 8]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(np.minimum(t1,<span class="number">0</span>))<span class="comment"># 第一个参数中的每一个数与第二个参数比较返回小的</span></span><br></pre></td></tr></table></figure>

<pre><code>[0 0 0 0 0 0 0 0]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 接受的两个参数，也可以大小一致;第二个参数只是一个单独的值时，其实是用到了维度的广播机制</span></span><br><span class="line">print(np.maximum(t1,[<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>]))</span><br></pre></td></tr></table></figure>

<pre><code>[2 4 6 8 9 6 7 8]</code></pre><h3 id="求平均值"><a href="#求平均值" class="headerlink" title="求平均值"></a>求平均值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(np.mean(t1))<span class="comment"># 获取所有数据的平均值</span></span><br></pre></td></tr></table></figure>

<pre><code>4.5</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(np.mean(score,axis=<span class="number">0</span>))</span><br></pre></td></tr></table></figure>

<pre><code>[79.         83.33333333]</code></pre><h3 id="求前缀和"><a href="#求前缀和" class="headerlink" title="求前缀和"></a>求前缀和</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">arr	= np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]]) </span><br><span class="line">print(arr)</span><br><span class="line">print(<span class="string">'*'</span>*<span class="number">20</span>)</span><br><span class="line">print(<span class="string">'''</span></span><br><span class="line"><span class="string">[1, 2, 3]------&gt;	|  1   |  2   |  3  |</span></span><br><span class="line"><span class="string">[4, 5, 6]------&gt;	|5=1+4 |7=2+5 |9=3+6| '''</span>)</span><br><span class="line">print(<span class="string">'*'</span>*<span class="number">20</span>)</span><br><span class="line">print(arr.cumsum(<span class="number">0</span>))</span><br></pre></td></tr></table></figure>

<pre><code>[[1 2 3]
 [4 5 6]]
********************

[1, 2, 3]------&gt;    |  1   |  2   |  3  |
[4, 5, 6]------&gt;    |5=1+4 |7=2+5 |9=3+6| 
********************
[[1 2 3]
 [5 7 9]]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'''</span></span><br><span class="line"><span class="string">[1, 2, 3]------&gt;	|1	|2+1	|3+2+1	|</span></span><br><span class="line"><span class="string">[4, 5, 6]------&gt;	|4	|4+5	|4+5+6	| '''</span>)</span><br><span class="line">print(<span class="string">'*'</span>*<span class="number">20</span>)</span><br><span class="line">print(arr.cumsum(<span class="number">1</span>))</span><br></pre></td></tr></table></figure>


<pre><code>[1, 2, 3]------&gt;    |1    |2+1    |3+2+1    |
[4, 5, 6]------&gt;    |4    |4+5    |4+5+6    | 
********************
[[ 1  3  6]
 [ 4  9 15]]</code></pre><h3 id="求最小索引值"><a href="#求最小索引值" class="headerlink" title="求最小索引值"></a>求最小索引值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(np.argmin(score,axis=<span class="number">0</span>))</span><br></pre></td></tr></table></figure>

<pre><code>[2 1]</code></pre><h3 id="求每一列的标准差"><a href="#求每一列的标准差" class="headerlink" title="求每一列的标准差"></a>求每一列的标准差</h3><p>标准差是一组数据平均值分散程度的一种度量。一个较大的标准差，代表大部分数值和其平均值之间差异较大；</p>
<p>一个较小的标准差，代表这些数据较接近平均值反应出数据的波动稳定情况，越大表示波动越大，越不稳定。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(np.std(score,axis=<span class="number">0</span>))</span><br></pre></td></tr></table></figure>

<pre><code>[2.94392029 3.29983165]</code></pre><h3 id="极-值"><a href="#极-值" class="headerlink" title="极 值"></a>极 值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.ptp(score,axis=<span class="literal">None</span>)<span class="comment"># 就是最大值和最小值的差</span></span><br></pre></td></tr></table></figure>




<pre><code>13</code></pre><h3 id="拓展"><a href="#拓展" class="headerlink" title="拓展"></a>拓展</h3><ul>
<li>方差var</li>
<li>协方差cov</li>
<li>计算平均值 average</li>
<li>计算中位数 median</li>
</ul>
<h2 id="通用函数"><a href="#通用函数" class="headerlink" title="通用函数"></a>通用函数</h2><table>
<thead>
<tr>
<th>函数</th>
<th>介绍</th>
</tr>
</thead>
<tbody><tr>
<td>numpy.sqrt(array)</td>
<td>平方根函数</td>
</tr>
<tr>
<td>numpy.exp(array)</td>
<td>e^array[i]的数组</td>
</tr>
<tr>
<td>numpy.abs/fabs(array)</td>
<td>计算绝对值</td>
</tr>
<tr>
<td>numpy.square(array)</td>
<td>计算各元素的平方 等于array**2</td>
</tr>
<tr>
<td>numpy.log/log10/log2(array)</td>
<td>计算各元素的各种对数</td>
</tr>
<tr>
<td>numpy.sign(array)</td>
<td>计算各元素正负号</td>
</tr>
<tr>
<td>numpy.isnan(array)</td>
<td>计算各元素是否为NaN</td>
</tr>
<tr>
<td>numpy.isinf(array)</td>
<td>计算各元素是否为NaN</td>
</tr>
<tr>
<td>numpy.cos/cosh/sin/sinh/tan/tanh(array)</td>
<td>三角函数</td>
</tr>
<tr>
<td>numpy.modf(array)</td>
<td>将array中值得整数和小数分离，作两个数组返回</td>
</tr>
<tr>
<td>numpy.ceil(array)</td>
<td>向上取整,也就是取比这个数大的整数</td>
</tr>
<tr>
<td>numpy.floor(array)</td>
<td>向下取整,也就是取比这个数小的整数</td>
</tr>
<tr>
<td>numpy.rint(array)</td>
<td>四舍五入</td>
</tr>
<tr>
<td>numpy.trunc(array)</td>
<td>向0取整</td>
</tr>
<tr>
<td>numpy.cos(array)</td>
<td>正弦值</td>
</tr>
<tr>
<td>numpy.sin(array)</td>
<td>余弦值</td>
</tr>
<tr>
<td>numpy.tan(array)</td>
<td>正切值</td>
</tr>
<tr>
<td>numpy.add(array1,array2)</td>
<td>元素级加法</td>
</tr>
<tr>
<td>numpy.subtract(array1,array2)</td>
<td>元素级减法</td>
</tr>
<tr>
<td>numpy.multiply(array1,array2)</td>
<td>元素级乘法</td>
</tr>
<tr>
<td>numpy.divide(array1,array2)</td>
<td>元素级除法 array1./array2</td>
</tr>
<tr>
<td>numpy.power(array1,array2)</td>
<td>元素级指数 array1.^array2</td>
</tr>
<tr>
<td>numpy.maximum/minimum(array1,aray2)</td>
<td>元素级最大值</td>
</tr>
<tr>
<td>numpy.fmax/fmin(array1,array2)</td>
<td>元素级最大值，忽略NaN</td>
</tr>
<tr>
<td>numpy.mod(array1,array2)</td>
<td>元素级求模</td>
</tr>
<tr>
<td>numpy.copysign(array1,array2)</td>
<td>将第二个数组中值得符号复制给第一个数组中值</td>
</tr>
<tr>
<td>numpy.greater/greater_equal/less/less_equal/equal/not_equal  (array1,array2)</td>
<td>元素级比较运算，产生布尔数组</td>
</tr>
<tr>
<td>numpy.logical_end/logical_or/logic_xor(array1,array2)</td>
<td>元素级的真值逻辑运算</td>
</tr>
</tbody></table>
<h2 id="数组的拼接"><a href="#数组的拼接" class="headerlink" title="数组的拼接"></a>数组的拼接</h2><p>有的时候我们需要将两个数据加起来一起研究分析，我们就可以将其进行拼接然后分析</p>
<h3 id="根据轴连接的数组序列"><a href="#根据轴连接的数组序列" class="headerlink" title="根据轴连接的数组序列"></a>根据轴连接的数组序列</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line">b = np.array([[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment">#要求a,b两个数组的维度相同</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 0 连接两个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.concatenate((a,b),axis= <span class="number">0</span>))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 1 连接两个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.concatenate((a,b),axis = <span class="number">1</span>))</span><br></pre></td></tr></table></figure>

<pre><code>沿轴 0 连接两个数组：
[[1 2]
 [3 4]
 [5 6]
 [7 8]]</code></pre><p>​<br>​    沿轴 1 连接两个数组：<br>​    [[1 2 5 6]<br>​     [3 4 7 8]]</p>
<h3 id="根据轴进行堆叠"><a href="#根据轴进行堆叠" class="headerlink" title="根据轴进行堆叠"></a>根据轴进行堆叠</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 0 连接两个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.stack((a,b),axis= <span class="number">0</span>))</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'沿轴 1 连接两个数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.stack((a,b),axis = <span class="number">1</span>))</span><br></pre></td></tr></table></figure>

<pre><code>沿轴 0 连接两个数组：
[[[1 2]
  [3 4]]

 [[5 6]
  [7 8]]]</code></pre><p>​<br>​    沿轴 1 连接两个数组：<br>​    [[[1 2]<br>​      [5 6]]<br>​<br>​     [[3 4]<br>​      [7 8]]]</p>
<h3 id="矩阵垂直拼接"><a href="#矩阵垂直拼接" class="headerlink" title="矩阵垂直拼接"></a>矩阵垂直拼接</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">v1 = [[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],</span><br><span class="line">    [<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>]] </span><br><span class="line"></span><br><span class="line">v2 = [[<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>,<span class="number">16</span>,<span class="number">17</span>],</span><br><span class="line">    [<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>,<span class="number">21</span>,<span class="number">22</span>,<span class="number">23</span>]] </span><br><span class="line"></span><br><span class="line">result = np.vstack((v1,v2)) </span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>

<pre><code>[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]]</code></pre><h3 id="矩阵水平拼接"><a href="#矩阵水平拼接" class="headerlink" title="矩阵水平拼接"></a>矩阵水平拼接</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result = np.hstack((v1,v2)) </span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>

<pre><code>[[ 0  1  2  3  4  5 12 13 14 15 16 17]
 [ 6  7  8  9 10 11 18 19 20 21 22 23]]</code></pre><h2 id="数组的分割"><a href="#数组的分割" class="headerlink" title="数组的分割"></a>数组的分割</h2><h3 id="将一个数组分割为多个子数组"><a href="#将一个数组分割为多个子数组" class="headerlink" title="将一个数组分割为多个子数组"></a>将一个数组分割为多个子数组</h3><p><strong>参数说明：</strong></p>
<ul>
<li>ary： 被分割的数组  </li>
<li>indices_or_sections：果是一个整数，就用该数平均切分，如果是一个数组，为沿轴切分的位置（左开右闭）</li>
<li>axis：沿着哪个维度进行切向，默认为0，横向切分。为1时，纵向切分</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">arr = np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'将数组分为三个大小相等的子数组：'</span>) </span><br><span class="line">b= np.split(arr,<span class="number">3</span>)</span><br><span class="line"><span class="keyword">print</span> (b)</span><br></pre></td></tr></table></figure>

<pre><code>将数组分为三个大小相等的子数组：
[array([[0, 1, 2]]), array([[3, 4, 5]]), array([[6, 7, 8]])]</code></pre><h3 id="numpy-hsplit-函数用于水平分割数组，通过指定要返回的相同形状的数组数量来拆分原数组。"><a href="#numpy-hsplit-函数用于水平分割数组，通过指定要返回的相同形状的数组数量来拆分原数组。" class="headerlink" title="numpy.hsplit 函数用于水平分割数组，通过指定要返回的相同形状的数组数量来拆分原数组。"></a>numpy.hsplit 函数用于水平分割数组，通过指定要返回的相同形状的数组数量来拆分原数组。</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">harr = np.floor(<span class="number">10</span> * np.random.random((<span class="number">2</span>, <span class="number">6</span>))) <span class="comment">#</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原array：'</span>)</span><br><span class="line">print(harr)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'拆分后：'</span>)</span><br><span class="line">print(np.hsplit(harr, <span class="number">3</span>))</span><br></pre></td></tr></table></figure>

<pre><code>原array：
[[6. 9. 3. 6. 1. 1.]
 [8. 3. 1. 7. 4. 5.]]
拆分后：
[array([[6., 9.],
       [8., 3.]]), array([[3., 6.],
       [1., 7.]]), array([[1., 1.],
       [4., 5.]])]</code></pre><h3 id="numpy-vsplit"><a href="#numpy-vsplit" class="headerlink" title="numpy.vsplit"></a>numpy.vsplit</h3><p>沿着垂直轴分割</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">16</span>).reshape(<span class="number">4</span>,<span class="number">4</span>)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'第一个数组：'</span>) </span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'竖直分割：'</span>)</span><br><span class="line">b = np.vsplit(a,<span class="number">2</span>) </span><br><span class="line"><span class="keyword">print</span> (b)</span><br></pre></td></tr></table></figure>

<pre><code>第一个数组：
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]
 [12 13 14 15]]</code></pre><p>​<br>​    竖直分割：<br>​    [array([[0, 1, 2, 3],<br>​           [4, 5, 6, 7]]), array([[ 8,  9, 10, 11],<br>​           [12, 13, 14, 15]])]</p>
<h2 id="数组中nan和inf"><a href="#数组中nan和inf" class="headerlink" title="数组中nan和inf"></a>数组中nan和inf</h2><p>C 语言中表示最大的正整数值是 0x7FFF FFFF，最小的负整数是 0x8000 0000。<br>查阅资料后，发现 inf 表示无穷大，需要使用 float(‘inf’) 函数来转化，那么对应的就有    float(‘-inf’) 表示无穷小了。这样你就可以使用任意数来判断和它的关系了。</p>
<p>那什么时候会出现inf呢？ 比如一个数字除以0，Python中会报错，但是numpy中会是一个inf或者-inf</p>
<p>另外还有 nan，这种写法在 pandans 中常见，表示缺失的数据，所以一般用 nan 来表示。任何与其做运算结果都是 nan</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个nan和inf </span></span><br><span class="line">a = np.nan </span><br><span class="line">b = np.inf</span><br><span class="line">print(a,type(a)) </span><br><span class="line">print(b,type(b))</span><br><span class="line"></span><br><span class="line"><span class="comment">#--判断数组中为nan的个数</span></span><br><span class="line">t = np.arange(<span class="number">24</span>,dtype=float).reshape(<span class="number">4</span>,<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#将三行四列的数改成nan </span></span><br><span class="line">t[<span class="number">3</span>,<span class="number">4</span>] = np.nan</span><br><span class="line"></span><br><span class="line"><span class="comment">#可以使用np.count_nonzero() 来判断非零的个数</span></span><br><span class="line">print(np.count_nonzero(t))</span><br><span class="line"><span class="comment">#并 且  np.nan != np.nan	结果 是TRUE</span></span><br><span class="line"><span class="comment">#所以我们可以使用这两个结合使用判断nan的个数</span></span><br><span class="line">print(np.count_nonzero(t != t))</span><br><span class="line"></span><br><span class="line"><span class="comment">#将nan替换为0</span></span><br><span class="line">t[np.isnan(t)] = <span class="number">0</span> </span><br><span class="line">print(t)</span><br></pre></td></tr></table></figure>

<pre><code>nan &lt;class &apos;float&apos;&gt;
inf &lt;class &apos;float&apos;&gt;
23
1
[[ 0.  1.  2.  3.  4.  5.]
 [ 6.  7.  8.  9. 10. 11.]
 [12. 13. 14. 15. 16. 17.]
 [18. 19. 20. 21.  0. 23.]]</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#----------练习： 处理数组中nan</span></span><br><span class="line">t = np.arange(<span class="number">24</span>).reshape(<span class="number">4</span>,<span class="number">6</span>).astype(<span class="string">'float'</span>)</span><br><span class="line"><span class="comment">#将数组中的一部分替换nan </span></span><br><span class="line">t[<span class="number">1</span>,<span class="number">3</span>:] = np.nan</span><br><span class="line">print(t)</span><br><span class="line"><span class="comment">#遍历每一列，然后判断每一列是否有nan </span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(t.shape[<span class="number">1</span>]):</span><br><span class="line"><span class="comment">#	#获取当前列数据</span></span><br><span class="line">    temp_col = t[:,i]</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#	判断当前列的数据中是否含有nan</span></span><br><span class="line">    nan_num = np.count_nonzero(temp_col != temp_col)</span><br><span class="line"><span class="comment">#</span></span><br><span class="line">    <span class="keyword">if</span> nan_num != <span class="number">0</span>: <span class="comment">#条件成立说明含有nan </span></span><br><span class="line">    <span class="comment"># 将这一列不为nan的数据拿出来</span></span><br><span class="line">        temp_col_not_nan = temp_col[temp_col==temp_col]</span><br><span class="line"><span class="comment"># 将nan替换成这一列的平均值</span></span><br><span class="line">        temp_col[np.isnan(temp_col)] = np.mean(temp_col_not_nan)</span><br><span class="line">print(t)</span><br></pre></td></tr></table></figure>

<pre><code>[[ 0.  1.  2.  3.  4.  5.]
 [ 6.  7.  8. nan nan nan]
 [12. 13. 14. 15. 16. 17.]
 [18. 19. 20. 21. 22. 23.]]
[[ 0.  1.  2.  3.  4.  5.]
 [ 6.  7.  8. 13. 14. 15.]
 [12. 13. 14. 15. 16. 17.]
 [18. 19. 20. 21. 22. 23.]]</code></pre><h2 id="二维数组的转置"><a href="#二维数组的转置" class="headerlink" title="二维数组的转置"></a>二维数组的转置</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#对换数组的维度</span></span><br><span class="line">a = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>) </span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (a )</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'对换数组：'</span>)</span><br><span class="line"><span class="keyword">print</span> (np.transpose(a))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 与transpose一致</span></span><br><span class="line">a = np.arange(<span class="number">12</span>).reshape(<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'原数组：'</span>) </span><br><span class="line"><span class="keyword">print</span> (a)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'转置数组：'</span>) </span><br><span class="line"><span class="keyword">print</span> (a.T)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 函数用于交换数组的两个轴</span></span><br><span class="line">t1 = np.arange(<span class="number">24</span>).reshape(<span class="number">4</span>,<span class="number">6</span>)</span><br><span class="line">re = t1.swapaxes(<span class="number">1</span>,<span class="number">0</span>) </span><br><span class="line"><span class="keyword">print</span> (<span class="string">' 原 数 组 ：'</span>) </span><br><span class="line"><span class="keyword">print</span> (t1)</span><br><span class="line"><span class="keyword">print</span> (<span class="string">'\n'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (<span class="string">'调用 swapaxes 函数后的数组：'</span>) </span><br><span class="line"><span class="keyword">print</span> (re)</span><br></pre></td></tr></table></figure>

<pre><code>原数组：
[[ 0  1  2  3]
 [ 4  5  6  7]
 [ 8  9 10 11]]</code></pre><p>​<br>​    对换数组：<br>​    [[ 0  4  8]<br>​     [ 1  5  9]<br>​     [ 2  6 10]<br>​     [ 3  7 11]]<br>​    原数组：<br>​    [[ 0  1  2  3]<br>​     [ 4  5  6  7]<br>​     [ 8  9 10 11]]</p>
<p>​<br>​    转置数组：<br>​    [[ 0  4  8]<br>​     [ 1  5  9]<br>​     [ 2  6 10]<br>​     [ 3  7 11]]<br>​     原 数 组 ：<br>​    [[ 0  1  2  3  4  5]<br>​     [ 6  7  8  9 10 11]<br>​     [12 13 14 15 16 17]<br>​     [18 19 20 21 22 23]]</p>
<p>​    调用 swapaxes 函数后的数组：<br>​    [[ 0  6 12 18]<br>​     [ 1  7 13 19]<br>​     [ 2  8 14 20]<br>​     [ 3  9 15 21]<br>​     [ 4 10 16 22]<br>​     [ 5 11 17 23]]</p>

      
      <!-- 打赏 -->
      
      <div id="reward-btn">
        打赏
      </div>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://ryanhuo.github.io/2020/01/20/2.%20numpy/" data-id="ck5n93niz000os4fz7yhs4afx"
        class="article-share-link">分享</a>
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python%E5%BA%93/" rel="tag">python库</a></li></ul>

    </footer>

  </div>

  
  
  <nav class="article-nav">
    
      <a href="/2020/01/20/git%E5%90%8C%E6%AD%A5github%E7%9B%B8%E5%85%B3/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            git同步github
          
        </div>
      </a>
    
    
      <a href="/2020/01/20/3.%20pandas/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">3. pandas</div>
      </a>
    
  </nav>


  

  
  
<!-- valine评论 -->
<div id="vcomments-box">
    <div id="vcomments">
    </div>
</div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script>
<script>
    new Valine({
        el: '#vcomments',
        notify: false,
        verify: false,
        app_id: '',
        app_key: '',
        path: window.location.pathname,
        avatar: 'mp',
        placeholder: '给我的文章加点评论吧~',
        recordIP: true
    });
    const infoEle = document.querySelector('#vcomments .info');
    if (infoEle && infoEle.childNodes && infoEle.childNodes.length > 0) {
        infoEle.childNodes.forEach(function (item) {
            item.parentNode.removeChild(item);
        });
    }
</script>
<style>
    #vcomments-box {
        padding: 5px 30px;
    }

    @media screen and (max-width: 800px) {
        #vcomments-box {
            padding: 5px 0px;
        }
    }

    #vcomments-box #vcomments {
        background-color: #fff;
    }

    .v .vlist .vcard .vh {
        padding-right: 20px;
    }

    .v .vlist .vcard {
        padding-left: 10px;
    }
</style>

  

  
  
  

</article>
</section>
      <footer class="footer">
  <div class="outer">
    <ul class="list-inline">
      <li>
        &copy;
        2020
        Ryan
      </li>
      <li>
        
          Powered by
        
        
        <a href="https://hexo.io" target="_blank">Hexo</a> Theme <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul class="list-inline">
      <li>
        
        
        <ul class="list-inline">
  <li>PV:<span id="busuanzi_value_page_pv"></span></li>
  <li>UV:<span id="busuanzi_value_site_uv"></span></li>
</ul>
        
      </li>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>
    <div class="to_top">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>
      </div>
    </main>
    
    <aside class="sidebar">
      
        <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">目录</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories/%E5%85%B6%E4%BB%96">其他</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories/data-analytics">DA</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="Search">
        <i class="ri-search-line"></i>
      </a>
      
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
      </aside>
      <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
      
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/jquery.justifiedGallery.min.js"></script>


<script src="/js/lazyload.min.js"></script>


<script src="/js/busuanzi-2.3.pure.min.js"></script>


  
<script src="/fancybox/jquery.fancybox.min.js"></script>




  
<script src="/js/tocbot.min.js"></script>

  <script>
    // Tocbot_v4.7.0  http://tscanlin.github.io/tocbot/
    tocbot.init({
      tocSelector: '.tocbot',
      contentSelector: '.article-entry',
      headingSelector: 'h1, h2, h3, h4, h5, h6',
      hasInnerContainers: true,
      scrollSmooth: true,
      positionFixedSelector: '.tocbot',
      positionFixedClass: 'is-position-fixed',
      fixedSidebarOffset: 'auto',
			onClick: (e) => {
      	document.getElementById(e.target.innerText).scrollIntoView()
      	return false;
    	}
    });
  </script>


<script>
  var ayerConfig = {
    mathjax: true
  }
</script>


<script src="/js/ayer.js"></script>


<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">


  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.6/unpacked/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


<script type="text/javascript" src="https://js.users.51.la/20544303.js"></script>
  
  

  </div>
</body>

</html>